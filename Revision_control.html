
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GPHGXML15W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GPHGXML15W');
    </script>
    
    <title>Revision control with Git &#8212; SEPwC  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Revision_control';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Python: part 2" href="Python2.html" />
    <link rel="prev" title="Solving issues and debugging" href="Issues.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">SEPwC  documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_a_computer_works.html">How a computer works</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licences.html">Software licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_basics.html">The fundamentals of code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Algorithms.html">Thinking like a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python.html">Python: the fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="R.html">R: the fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="Issues.html">Solving issues and debugging</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Revision control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python2.html">Python: part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="R2.html">R: part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python3.html">Python: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="R3.html">R: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="Spreadsheets_data.html">Moving from spreadsheets to data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Testing_code.html">Testing code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Software_development.html">Software development</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mini_courses.html">Mini-courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/jhill1/SEPwC.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Revision_control.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Revision control with Git</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-git">Setting up git</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#our-first-repository">Our first repository</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-files">Adding files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#git-history">Git history</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ignoring-files">Ignoring files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#github">Github</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-remote-repository">1. Creating a remote repository</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connect-local-to-remote-repository">2. Connect local to remote repository</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh-background-and-setup">3. SSH Background and Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#create-an-ssh-key-pair">3.1 Create an SSH key pair</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-the-public-key-to-github">3.2 Copy the public key to GitHub</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#push-local-changes-to-a-remote">4. Push local changes to a remote</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collaboration-with-git">Collaboration with Git</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conflict">Conflict!</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="revision-control-with-git">
<h1>Revision control with Git<a class="headerlink" href="#revision-control-with-git" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p id="index-0">We’ll start by exploring how version control can be used to keep track of what one person did and when.
Even if you aren’t collaborating with other people, automated version control is much better than this situation:</p>
<img alt="A lot of files with not very descriptive names like final_final_final.txt" src="_images/revisions.png" />
<p>Which one is actually the final version? Which order to the files actually go in (in case
I wanted to go back to a previous version)?</p>
<p>We’ve all been in this situation before: it seems unnecessary to have
multiple nearly-identical versions of the same document. Some word
processors let us deal with this a little better, such as Microsoft
Word’s <a class="reference external" href="https://support.office.com/en-us/article/Track-changes-in-Word-197ba630-0f5f-4a8e-9a77-3712475e806a">Track Changes</a>,
Google Docs’ <a class="reference external" href="https://support.google.com/docs/answer/190843?hl=en">version history</a>, or
LibreOffice’s <a class="reference external" href="https://help.libreoffice.org/Common/Recording_and_Displaying_Changes">Recording and Displaying Changes</a>.</p>
<p>Version control systems start with a base version of the document and then record changes you make each step of the way. You can
think of it as a recording of your progress: you can rewind to start at the base document and play back each change you made,
eventually arriving at your more recent version.</p>
<img alt="Changes Are Saved Sequentially" src="_images/play-changes.png" />
<p>Once you think of changes as separate from the document itself, you
can then think about “playing back” different sets of changes on the base document, ultimately
resulting in different versions of that document. For example, two users can make independent
sets of changes on the same document.</p>
<img alt="Different Versions Can be Saved" src="_images/versions.png" />
<p>Unless multiple users make changes to the same section of the document - a conflict - you can
incorporate two sets of changes into the same base document.</p>
<img alt="Multiple Versions Can be Merged" src="_images/merge.png" />
<p>A version control system is a tool that keeps track of these changes for us,
effectively creating different versions of our files. It allows us to decide
which changes will be made to the next version (each record of these changes is
called a commit and keeps useful metadata about them. The complete history of commits for a particular project and their
metadata make up a repository. Repositories can be kept in sync across different computers, facilitating
collaboration among different people.</p>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>The Long History of Version Control Systems</strong>
Automated version control systems are nothing new.
Tools like <a class="reference external" href="https://en.wikipedia.org/wiki/Revision_Control_System">RCS</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Concurrent_Versions_System">CVS</a>, or
<a class="reference external" href="https://en.wikipedia.org/wiki/Apache_Subversion">Subversion</a> have been around since the early 1980s and are used by
many large companies. However, many of these are now considered legacy systems (i.e., outdated) due to various
limitations in their capabilities.
More modern systems, such as Git and Mercurial, are <em>distributed</em>, meaning that they do not need a centralized server to host the repository.
These modern systems also include powerful merging tools that make it possible for
multiple authors to work on the same files concurrently.</p>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Paper Writing</strong></p>
<ul class="simple">
<li><p>Imagine you drafted an excellent paragraph for a paper you are writing, but later ruin
it. How would you retrieve the <em>excellent</em> version of your conclusion? Is it even possible?</p></li>
<li><p>Imagine you have 5 co-authors. How would you manage the changes and comments
they make to your paper?  If you use LibreOffice Writer or Microsoft Word, what happens if
you accept changes made using the <cite>Track Changes</cite> option? Do you have a
history of those changes?</p></li>
</ul>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<ul class="simple">
<li><p>Recovering the excellent version is only possible if you created a copy
of the old version of the paper. The danger of losing good versions
often leads to the problematic workflow illustrated first image.</p></li>
<li><p>Collaborative writing with traditional word processors is cumbersome.
Either every collaborator has to work on a document sequentially
(slowing down the process of writing), or you have to send out a
version to all collaborators and manually merge their comments into
your document. The ‘track changes’ or ‘record changes’ option can
highlight changes for you and simplifies merging, but as soon as you
accept changes you will lose their history. You will then no longer
know who suggested that change, why it was suggested, or when it was
merged into the rest of the document. Even online word processors like
Google Docs or Microsoft Office Online do not fully resolve these
problems.</p></li>
</ul>
</div>
</section>
<section id="setting-up-git">
<h2>Setting up git<a class="headerlink" href="#setting-up-git" title="Link to this heading">#</a></h2>
<p>When we use Git on a new computer for the first time, we need to configure a few things. Below are a few examples
of configurations we will set as we get started with Git:</p>
<ul class="simple">
<li><p>our name and email address,</p></li>
<li><p>what our preferred text editor is,</p></li>
<li><p>and that we want to use these settings globally (i.e. for every project).</p></li>
</ul>
<p>On a command line, Git commands are written as <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">verb</span> <span class="pre">options</span></code>,
where <code class="docutils literal notranslate"><span class="pre">verb</span></code> is what we actually want to do and <code class="docutils literal notranslate"><span class="pre">options</span></code> is additional optional information which may be
needed for the <code class="docutils literal notranslate"><span class="pre">verb</span></code>. So here is how I might setup my new laptop:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;Jon Hill&quot;</span>
git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;jon.hill@york.ac.uk&quot;</span>
</pre></div>
</div>
<p>Please use your own name and email address instead of mine. This user name and email will be associated with your subsequent Git activity,
which means that any changes pushed to
<a class="reference external" href="https://github.com/">GitHub</a>,
<a class="reference external" href="https://bitbucket.org/">BitBucket</a>,
<a class="reference external" href="https://gitlab.com/">GitLab</a> or
another Git host server after this lesson will include this information.</p>
<p>For this lesson, we will be interacting with <a class="reference external" href="https://github.com/">GitHub</a> and so the email address used should be the
same as the one used when setting up your GitHub account. If you are concerned about privacy,
please review <a class="reference external" href="git-privacy">GitHub’s instructions for keeping your email address private</a>.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><em>Line Endings</em></p>
<p>As with other keys, when you hit <kbd class="kbd docutils literal notranslate">Enter</kbd> or <kbd class="kbd docutils literal notranslate">Return</kbd> on your keyboard,
your computer encodes this input as a character.
Different operating systems use different character(s) to represent the end of a line.
(You may also hear these referred to as newlines or line breaks.)
Because Git uses these characters to compare files,
it may cause unexpected issues when editing a file on different machines.
Though it is beyond the scope of this lesson, you can read more about this issue
<a class="reference external" href="https://www.git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf">in the Pro Git book</a>.</p>
<p>You can change the way Git recognizes and encodes line endings
using the <cite>core.autocrlf</cite> command to <cite>git config</cite>.
The following settings are recommended:
On macOS and Linux:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.autocrlf<span class="w"> </span>input
</pre></div>
</div>
<p>And on Windows:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>git config --global core.autocrlf false
</pre></div>
</div>
</div>
<p>We also need to set our favorite text editor, following this table:</p>
<table class="table" id="id3">
<caption><span class="caption-text">Editors and config</span><a class="headerlink" href="#id3" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Editor</p></th>
<th class="head"><p>Configuration command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Atom</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;atom</span> <span class="pre">--wait&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>nano</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;nano</span> <span class="pre">-w&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>BBEdit (Mac, with command line tools)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;bbedit</span> <span class="pre">-w&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Sublime Text (Mac)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;/Applications/Sublime\</span> <span class="pre">Text.app/Contents/SharedSupport/bin/subl</span> <span class="pre">-n</span> <span class="pre">-w&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Sublime Text (Win, 32-bit install)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;'c:/program</span> <span class="pre">files</span> <span class="pre">(x86)/sublime</span> <span class="pre">text</span> <span class="pre">3/sublime_text.exe'</span> <span class="pre">-w&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Sublime Text (Win, 64-bit install)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;'c:/program</span> <span class="pre">files/sublime</span> <span class="pre">text</span> <span class="pre">3/sublime_text.exe'</span> <span class="pre">-w&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Notepad (Win)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;c:/Windows/System32/notepad.exe&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Notepad++ (Win, 32-bit install)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;'c:/program</span> <span class="pre">files</span> <span class="pre">(x86)/Notepad++/notepad++.exe'</span> <span class="pre">-multiInst</span> <span class="pre">-notabbar</span> <span class="pre">-nosession</span> <span class="pre">-noPlugin&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Notepad++ (Win, 64-bit install)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;'c:/program</span> <span class="pre">files/Notepad++/notepad++.exe'</span> <span class="pre">-multiInst</span> <span class="pre">-notabbar</span> <span class="pre">-nosession</span> <span class="pre">-noPlugin&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Kate (Linux)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;kate&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Gedit (Linux)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;gedit</span> <span class="pre">--wait</span> <span class="pre">--new-window&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Scratch (Linux)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;scratch-text-editor&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Emacs</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;emacs&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Vim</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;vim&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>VS Code</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">core.editor</span> <span class="pre">&quot;code</span> <span class="pre">--wait&quot;</span></code></p></td>
</tr>
</tbody>
</table>
<p>It is possible to reconfigure the text editor for Git whenever you want to change it.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>Exiting Vim</strong></p>
<p>Note that Vim is the default editor for many programs. If you haven’t used Vim before and wish to exit a session without saving
your changes, press <kbd class="kbd docutils literal notranslate">Esc</kbd> then type <code class="docutils literal notranslate"><span class="pre">:q!</span></code> and hit <kbd class="kbd docutils literal notranslate">Enter</kbd> or  <kbd class="kbd docutils literal notranslate">Return</kbd>.
If you want to save your changes and quit, press <kbd class="kbd docutils literal notranslate">Esc</kbd> then type <code class="docutils literal notranslate"><span class="pre">:wq</span></code> and hit <kbd class="kbd docutils literal notranslate">Enter</kbd> or <kbd class="kbd docutils literal notranslate">Return</kbd>.</p>
</div>
<p>Git (2.28+) allows configuration of the name of the branch created when you
initialize any new repository.  We should use that feature to set it to <cite>main</cite> so
it matches Gihub</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>init.defaultBranch<span class="w"> </span>main
</pre></div>
</div>
<p>The five commands we just ran above only need to be run once: the flag <cite>–global</cite> tells Git
to use the settings for every project, in your user account, on this computer.</p>
<p>You can check your settings at any time:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--list
</pre></div>
</div>
<p>You can change your configuration as many times as you want: use the
same commands to choose another editor or update your email address.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p><strong>Git Help and Manual</strong></p>
<p>Always remember that if you forget the subcommands or options of a <cite>git</cite> command, you can access the
relevant list of options typing <cite>git &lt;command&gt; -h</cite> or access the corresponding Git manual by typing
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">&lt;command&gt;</span> <span class="pre">--help</span></code>, e.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>-h
git<span class="w"> </span>config<span class="w"> </span>--help
</pre></div>
</div>
<p>While viewing the manual, remember the <code class="docutils literal notranslate"><span class="pre">:</span></code> is a prompt waiting for commands and you can press <kbd class="kbd docutils literal notranslate">Q</kbd> to exit the manual.
More generally, you can get the list of available <code class="docutils literal notranslate"><span class="pre">git</span></code> commands and further resources of the Git manual typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span><span class="nb">help</span>
</pre></div>
</div>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/k_js-zjVXk4" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
<section id="our-first-repository">
<h2>Our first repository<a class="headerlink" href="#our-first-repository" title="Link to this heading">#</a></h2>
<p>Once Git is configured, we can start using it.</p>
<p>We will use a story of Muske and Branston who are investigating if it
is possible to send a planetary lander to Mars.</p>
<p>First, let’s create a new directory in the <code class="file docutils literal notranslate"><span class="pre">Desktop/</span></code> folder for our work and then change the current working directory to the newly created one:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/Desktop
mkdir<span class="w"> </span>planets
<span class="nb">cd</span><span class="w"> </span>planets
</pre></div>
</div>
<p>Then we tell Git to make <code class="file docutils literal notranslate"><span class="pre">planets/</span></code> a repository – a place where Git can store versions of our files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>init
</pre></div>
</div>
<p>It is important to note that <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code> will create a repository that
can include subdirectories and their files – there is no need to create
separate repositories nested within the <code class="docutils literal notranslate"><span class="pre">planets</span></code> repository, whether
subdirectories are present from the beginning or added later. Also, note
that the creation of the <code class="docutils literal notranslate"><span class="pre">planets</span></code> directory and its initialization as a
repository are completely separate processes.</p>
<p>If we use <code class="docutils literal notranslate"><span class="pre">ls</span></code> to show the directory’s contents,
it appears that nothing has changed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls
</pre></div>
</div>
<p>But if we add the <code class="docutils literal notranslate"><span class="pre">-a</span></code> flag to show everything,
we can see that Git has created a hidden directory within <code class="file docutils literal notranslate"><span class="pre">planets</span></code> called <code class="file docutils literal notranslate"><span class="pre">.git</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-a
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">.   ..      .git</span>
</pre></div>
</div>
<p>Git uses this special subdirectory to store all the information about the project,
including the tracked files and sub-directories located within the project’s directory.
If we ever delete the <code class="docutils literal notranslate"><span class="pre">.git</span></code> subdirectory, we will lose the project’s history.</p>
<p>Next, we will change the default branch to be called <code class="docutils literal notranslate"><span class="pre">main</span></code>.
This might be the default branch depending on your settings and version
of git. See the <a class="reference internal" href="#setting-up-git"><span class="std std-ref">Setting up git</span></a> section above for more information on this change.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Switched to a new branch &#39;main&#39;</span>
</pre></div>
</div>
<p>We can check that everything is set up correctly
by asking Git to tell us the status of our project:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">nothing to commit (create/copy files and use &quot;git add&quot; to track)</span>
</pre></div>
</div>
<p>If you are using a different version of <cite>git</cite>, the exact
wording of the output might be slightly different.</p>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Places to Create Git Repositories</strong></p>
<p>Along with tracking information about planets (the project we have already created),
we would also like to track information about moons.
Despite the project leader concerns, someone creates a <cite>moons</cite> project inside the <cite>planets</cite>
project with the following sequence of commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/Desktop<span class="w">   </span><span class="c1"># return to Desktop directory</span>
<span class="nb">cd</span><span class="w"> </span>planets<span class="w">     </span><span class="c1"># go into planets directory, which is already a Git repository</span>
ls<span class="w"> </span>-a<span class="w">          </span><span class="c1"># ensure the .git subdirectory is still present in the planets directory</span>
mkdir<span class="w"> </span>moons<span class="w">    </span><span class="c1"># make a subdirectory planets/moons</span>
<span class="nb">cd</span><span class="w"> </span>moons<span class="w">       </span><span class="c1"># go into moons subdirectory</span>
git<span class="w"> </span>init<span class="w">       </span><span class="c1"># make the moons subdirectory a Git repository</span>
ls<span class="w"> </span>-a<span class="w">          </span><span class="c1"># ensure the .git subdirectory is present indicating we have created a new Git repository</span>
</pre></div>
</div>
<p>Is the <cite>git init</cite> command, run inside the <cite>moons</cite> subdirectory, required for
tracking files stored in the <cite>moons</cite> subdirectory?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>No. The worker does not need to make the <cite>moons</cite> subdirectory a Git repository
because the <cite>planets</cite> repository can track any files, sub-directories, and
subdirectory files under the <cite>planets</cite> directory.  Thus, in order to track
all information about moons, The worker only needed to add the <cite>moons</cite> subdirectory
to the <cite>planets</cite> directory.</p>
<p>Additionally, Git repositories can interfere with each other if they are “nested”:
the outer repository will try to version-control
the inner repository. Therefore, it’s best to create each new Git
repository in a separate directory. To be sure that there is no conflicting
repository in the directory, check the output of <cite>git status</cite>. If it looks
like the following, you are good to go to create a new repository as shown
above:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">fatal: Not a git repository (or any of the parent directories): .git</span>
</pre></div>
</div>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Correcting `git init` Mistakes</strong></p>
<p>The project manager explains how a nested repository is redundant and may cause confusion
down the road. We would like to remove the nested repository. How can we undo
the last <cite>git init</cite> in the <cite>moons</cite> subdirectory?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p><strong>Background</strong></p>
<p>Removing files from a Git repository needs to be done with caution. But we have not learned
yet how to tell Git to track a particular file; we will learn this in the next section. Files
that are not tracked by Git can easily be removed like any other “ordinary” files with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>filename
</pre></div>
</div>
<p>Similarly a directory can be removed using <cite>rm -r dirname</cite> or <cite>rm -rf dirname</cite>.
If the files or folder being removed in this fashion are tracked by Git, then their removal
becomes another change that we will need to track, as we will see in the next section.</p>
<p><strong>Solution</strong></p>
<p>Git keeps all of its files in the <cite>.git</cite> directory.
To recover from this little mistake, we can just remove the <cite>.git</cite>
folder in the moons subdirectory by running the following command from inside the <cite>planets</cite> directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>-rf<span class="w"> </span>moons/.git
</pre></div>
</div>
<p>But be careful! Running this command in the wrong directory will remove
the entire Git history of a project you might want to keep.
Therefore, always check your current directory using the command <cite>pwd</cite>.</p>
</div>
</section>
<section id="adding-files">
<h2>Adding files<a class="headerlink" href="#adding-files" title="Link to this heading">#</a></h2>
<p>First let’s make sure we’re still in the right directory.
You should be in the <cite>planets</cite> directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/Desktop/planets
</pre></div>
</div>
<p>Let’s create a file called <cite>mars.txt</cite> that contains some notes
about the Red Planet’s suitability as a base.
We’ll use <cite>nano</cite> to edit the file; you can use whatever editor you like.
In particular, this does not have to be the <cite>core.editor</cite> you set globally earlier. But remember,
the bash command to create or edit a new file will depend on the
editor you choose (it might not be <cite>nano</cite>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>mars.txt
</pre></div>
</div>
<p>Type the text below into the <cite>mars.txt</cite> file:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
</pre></div>
</div>
<p>Let’s first verify that the file was properly created by running the list command (<cite>ls</cite>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">mars.txt</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mars.txt</span></code> contains a single line, which we can see by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
</pre></div>
</div>
<p>If we check the status of our project again,
Git tells us that it’s noticed the new file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">Untracked files:</span>
<span class="go"> (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>

<span class="go"> mars.txt</span>

<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
</div>
<p>The “untracked files” message means that there’s a file in the directory
that Git isn’t keeping track of.
We can tell Git to track a file using <cite>git add</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt
</pre></div>
</div>
<p>and then check that the right thing happened:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">Changes to be committed:</span>
<span class="go">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span>

<span class="go">  new file:   mars.txt</span>
</pre></div>
</div>
<p>Git now knows that it’s supposed to keep track of <cite>mars.txt</cite>,
but it hasn’t recorded these changes as a commit yet.
To get it to do that, we need to run one more command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Start notes on Mars as a base&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main (root-commit) f22b25e] Start notes on Mars as a base</span>
<span class="go">1 file changed, 1 insertion(+)</span>
<span class="go">create mode 100644 mars.txt</span>
</pre></div>
</div>
<p>When we run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>, Git takes everything we have told it to save by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>
and stores a copy permanently inside the special <code class="docutils literal notranslate"><span class="pre">.git</span></code> directory.
This permanent copy is called a commit (or revision) and its short identifier is <code class="docutils literal notranslate"><span class="pre">f22b25e</span></code>. Your commit may have another identifier.</p>
<p>We use the <code class="docutils literal notranslate"><span class="pre">-m</span></code> flag (for “message”) to record a short, descriptive, and specific comment
that will help us remember later on what we did and why.
If we just run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> without the <code class="docutils literal notranslate"><span class="pre">-m</span></code> option, Git will launch <code class="docutils literal notranslate"><span class="pre">nano</span></code> (or whatever other editor we configured as <code class="docutils literal notranslate"><span class="pre">core.editor</span></code>)
so that we can write a longer message.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Good commit messages start with a brief (&lt;50 characters) statement about the changes made in the commit.
Generally, the message should complete the sentence “If applied, this commit will” &lt;commit message here&gt;.
If you want to go into more detail, add a blank line between the summary line and your additional notes.
Use this additional space to explain why you made changes and/or what their impact will be.</p>
</div>
<p>If we run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> now:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">nothing to commit, working tree clean</span>
</pre></div>
</div>
<p>it tells us everything is up to date. If we want to know what we’ve done recently,
we can ask Git to show us the project’s history using <cite>git log</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">commit f22b25e3233b4645dabd0d81e651fe074bd8e73b</span>
<span class="go">Author: Jon Hill &lt;jon.hill@york.ac.uk&gt;</span>
<span class="go">Date:   Thu Aug 22 09:51:46 2023 -0400</span>

<span class="go">   Start notes on Mars as a base</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> lists all commits  made to a repository in reverse chronological order.
The listing for each commit includes</p>
<blockquote>
<div><ul class="simple">
<li><p>the commit’s full identifier (which starts with the same characters as the short identifier printed by the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> command earlier),</p></li>
<li><p>the commit’s author,</p></li>
<li><p>when it was created,</p></li>
<li><p>and the log message Git was given when the commit was created.</p></li>
</ul>
</div></blockquote>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/xjuu34mhiLM" style="border: 0; height: 345px; width: 560px">
</iframe></div><div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Where Are My Changes?</strong></p>
<p>If we run <code class="docutils literal notranslate"><span class="pre">ls</span></code> at this point, we will still see just one file called <cite>mars.txt</cite>.
That’s because Git saves information about files’ history
in the special <code class="file docutils literal notranslate"><span class="pre">.git</span></code> directory mentioned earlier
so that our filesystem doesn’t become cluttered
(and so that we can’t accidentally edit or delete an old version).</p>
</div>
<p>Now suppose we adds more information to the file.
(Again, we’ll edit with <code class="docutils literal notranslate"><span class="pre">nano</span></code> and then <code class="docutils literal notranslate"><span class="pre">cat</span></code> the file to show its contents;
you may use a different editor, and don’t need to <code class="docutils literal notranslate"><span class="pre">cat</span></code>.)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>mars.txt
cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
</pre></div>
</div>
<p>When we run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> now,
it tells us that a file it already knows about has been modified:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">Changes not staged for commit:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="go">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>

<span class="go">    modified:   mars.txt</span>

<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>
<p>The last line is the key phrase: “no changes added to commit”.
We have changed this file, but we haven’t told Git we will want to save those changes
(which we do with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>) nor have we saved them (which we do with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>).
So let’s do that now. It is good practice to always review
our changes before saving them. We do this using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>.
This shows us the differences between the current state
of the file and the most recently saved version:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">index df0654a..315bf3a 100644</span>
<span class="go">--- a/mars.txt</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -1 +1,2 @@</span>
<span class="go"> Cold and dry, but everything is my favourite colour</span>
<span class="go">+The two moons may be a problem for werewolves</span>
</pre></div>
</div>
<p>The output is cryptic because
it is actually a series of commands for tools like editors and <code class="docutils literal notranslate"><span class="pre">patch</span></code>
telling them how to reconstruct one file given the other.
If we break it down into pieces:</p>
<ol class="arabic simple">
<li><p>The first line tells us that Git is producing output similar to the Unix <code class="docutils literal notranslate"><span class="pre">diff</span></code> command
comparing the old and new versions of the file.</p></li>
<li><p>The second line tells exactly which versions of the file
Git is comparing;
<code class="docutils literal notranslate"><span class="pre">df0654a</span></code> and <code class="docutils literal notranslate"><span class="pre">315bf3a</span></code> are unique computer-generated labels for those versions.</p></li>
<li><p>The third and fourth lines once again show the name of the file being changed.</p></li>
<li><p>The remaining lines are the most interesting, they show us the actual differences
and the lines on which they occur.
In particular,
the <code class="docutils literal notranslate"><span class="pre">+</span></code> marker in the first column shows where we added a line.</p></li>
</ol>
<p>After reviewing our change, it’s time to commit it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add concerns about effects of Mars&#39; moons on werewolves&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">Changes not staged for commit:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="go">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>

<span class="go">    modified:   mars.txt</span>

<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>
<p>Whoops:
Git won’t commit because we didn’t use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> first.
Let’s fix that:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add concerns about effects of Mars&#39; moons on werewolves&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 34961b1] Add concerns about effects of Mars&#39; moons on werewolves</span>
<span class="go"> 1 file changed, 1 insertion(+)</span>
</pre></div>
</div>
<p>Git insists that we add files to the set we want to commit
before actually committing anything. This allows us to commit our
changes in stages and capture changes in logical portions rather than
only large batches. For example,
suppose we’re adding a few citations to relevant research to our thesis.
We might want to commit those additions,
and the corresponding bibliography entries,
but <em>not</em> commit some of our work drafting the conclusion
(which we haven’t finished yet).</p>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/6xLFpdjw0V0" style="border: 0; height: 345px; width: 560px">
</iframe></div><p>To allow for this, Git has a special <em>staging area</em>
where it keeps track of things that have been added to
the current changeset but not yet committed.</p>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Staging Area</strong></p>
<p>If you think of Git as taking snapshots of changes over the life of a project,
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> specifies <em>what</em> will go in a snapshot
(putting things in the staging area),
and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> then <em>actually takes</em> the snapshot, and
makes a permanent record of it (as a commit).
If you don’t have anything staged when you type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>,
Git will prompt you to use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-a</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--all</span></code>,
which is kind of like gathering <em>everyone</em> to take a group photo!
However, it’s almost always better to
explicitly add things to the staging area, because you might
commit changes you forgot you made. (Going back to the group photo simile,
you might get an extra with incomplete makeup walking on
the stage for the picture because you used <code class="docutils literal notranslate"><span class="pre">-a</span></code>!)
Try to stage things manually,
or you might find yourself searching for “git undo commit” more
than you would like!</p>
</div>
<img alt="The git staging area" src="_images/git-staging-area.png" />
<p>Let’s watch as our changes to a file move from our editor
to the staging area and into long-term storage.
First, we’ll add another line to the file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>mars.txt
cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">index 315bf3a..b36abfd 100644</span>
<span class="go">--- a/mars.txt</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -1,2 +1,3 @@</span>
<span class="go"> Cold and dry, but everything is my favourite colour</span>
<span class="go"> The two moons may be a problem for werewolves</span>
<span class="go">+But the Mummy will appreciate the lack of humidity</span>
</pre></div>
</div>
<p>So far, so good: we’ve added one line to the end of the file
(shown with a <cite>+</cite> in the first column). Now let’s put that change in the staging area
and see what <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> reports:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt
git<span class="w"> </span>diff
</pre></div>
</div>
<p>There is no output: as far as Git can tell,
there’s no difference between what it’s been asked to save permanently
and what’s currently in the directory. However, if we do this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff<span class="w"> </span>--staged
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">index 315bf3a..b36abfd 100644</span>
<span class="go">--- a/mars.txt</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -1,2 +1,3 @@</span>
<span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
</pre></div>
</div>
<p>it shows us the difference between the last committed change
and what’s in the staging area. Let’s save our changes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Discuss concerns about Mars&#39; climate for Mummy&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 005937f] Discuss concerns about Mars&#39; climate for Mummy</span>
<span class="go">1 file changed, 1 insertion(+)</span>
</pre></div>
</div>
<p>check our status:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">nothing to commit, working tree clean</span>
</pre></div>
</div>
<p>and look at the history of what we’ve done so far:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">commit 005937fbe2a98fb83f0ade869025dc2636b4dad5 (HEAD -&gt; main)</span>
<span class="go">Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;</span>
<span class="go">Date:   Thu Aug 22 10:14:07 2013 -0400</span>

<span class="go">   Discuss concerns about Mars&#39; climate for Mummy</span>

<span class="go">commit 34961b159c27df3b475cfe4415d94a6d1fcd064d</span>
<span class="go">Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;</span>
<span class="go">Date:   Thu Aug 22 10:07:21 2013 -0400</span>

<span class="go">    Add concerns about effects of Mars&#39; moons on werewolves</span>

<span class="go">commit f22b25e3233b4645dabd0d81e651fe074bd8e73b</span>
<span class="go">Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;</span>
<span class="go">Date:   Thu Aug 22 09:51:46 2013 -0400</span>

<span class="go">    Start notes on Mars as a base</span>
</pre></div>
</div>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Word-based diffing</strong></p>
<p>Sometimes, e.g. in the case of the text documents a line-wise
diff is too coarse. That is where the <code class="docutils literal notranslate"><span class="pre">--color-words</span></code> option of
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> comes in very useful as it highlights the changed
words using colours.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Paging the Log</strong></p>
<p>When the output of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> is too long to fit in your screen,
<code class="docutils literal notranslate"><span class="pre">git</span></code> uses a program to split it into pages of the size of your screen.
When this “pager” is called, you will notice that the last line in your
screen is a <code class="docutils literal notranslate"><span class="pre">:</span></code>, instead of your usual prompt.</p>
<ul class="simple">
<li><p>To get out of the pager, press <kbd class="kbd docutils literal notranslate">q</kbd>.</p></li>
<li><p>To move to the next page, press <kbd class="kbd docutils literal notranslate">Spacebar</kbd>.</p></li>
<li><p>To search for <cite>some_word</cite> in all pages, press <kbd class="kbd docutils literal notranslate">/</kbd> and type <code class="docutils literal notranslate"><span class="pre">some_word</span></code>.
Navigate through matches pressing <kbd class="kbd docutils literal notranslate">n</kbd>.</p></li>
</ul>
</div>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Limit Log Size</strong></p>
<p>To avoid having <cite>git log</cite> cover your entire terminal screen, you can limit the
number of commits that Git lists by using <cite>-N</cite>, where <cite>N</cite> is the number of
commits that you want to view. For example, if you only want information from
the last commit you can use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log<span class="w"> </span>-1
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">commit 005937fbe2a98fb83f0ade869025dc2636b4dad5 (HEAD -&gt; main)</span>
<span class="go">Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;</span>
<span class="go">Date:   Thu Aug 22 10:14:07 2013 -0400</span>

<span class="go">Discuss concerns about Mars&#39; climate for Mummy</span>
</pre></div>
</div>
<p>You can also reduce the quantity of information using the <code class="docutils literal notranslate"><span class="pre">--oneline</span></code> option:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log<span class="w"> </span>--oneline
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">005937f (HEAD -&gt; main) Discuss concerns about Mars&#39; climate for Mummy</span>
<span class="go">34961b1 Add concerns about effects of Mars&#39; moons on werewolves</span>
<span class="go">f22b25e Start notes on Mars as a base</span>
</pre></div>
</div>
<p>You can also combine the <cite>–oneline</cite> option with others. One useful
combination adds <cite>–graph</cite> to display the commit history as a text-based
graph and to indicate which commits are associated with the
current <cite>HEAD</cite>, the current branch <cite>main</cite>, or
[other Git references][git-references]:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log<span class="w"> </span>--oneline<span class="w"> </span>--graph
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">* 005937f (HEAD -&gt; main) Discuss concerns about Mars&#39; climate for Mummy</span>
<span class="go">* 34961b1 Add concerns about effects of Mars&#39; moons on werewolves</span>
<span class="go">* f22b25e Start notes on Mars as a base</span>
</pre></div>
</div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>Directories</strong></p>
<p>Two important facts you should know about directories in Git.</p>
<ol class="arabic simple">
<li><p>Git does not track directories on their own, only files within them. Try it for yourself:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>spaceships
git<span class="w"> </span>status
git<span class="w"> </span>add<span class="w"> </span>spaceships
git<span class="w"> </span>status
</pre></div>
</div>
<p>Note, our newly created empty directory <cite>spaceships</cite> does not appear in
the list of untracked files even if we explicitly add it (<em>via</em> <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>) to our
repository. This is the reason why you will sometimes see <code class="docutils literal notranslate"><span class="pre">.gitkeep</span></code> files
in otherwise empty directories. Unlike <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>, these files are not special
and their sole purpose is to populate a directory so that Git adds it to
the repository. In fact, you can name such files anything you like.</p>
<ol class="arabic simple" start="2">
<li><p>If you create a directory in your Git repository and populate it with files,
you can add all files in the directory at once by:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>&lt;directory-with-files&gt;
</pre></div>
</div>
<p>Try it for yourself:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>touch<span class="w"> </span>spaceships/apollo-11<span class="w"> </span>spaceships/sputnik-1
git<span class="w"> </span>status
git<span class="w"> </span>add<span class="w"> </span>spaceships
git<span class="w"> </span>status
</pre></div>
</div>
</div></blockquote>
<p>Before moving on, we will commit these changes.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add some initial thoughts on spaceships&quot;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<p>To recap, when we want to add changes to our repository,
we first need to add the changed files to the staging area
(<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>) and then commit the staged changes to the
repository (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>):</p>
<img alt="The git commit process" src="_images/git-committing.png" />
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Choosing a Commit Message</strong></p>
<p>Which of the following commit messages would be most appropriate for the
last commit made to <cite>mars.txt</cite>?</p>
<ol class="arabic simple">
<li><p>“Changes”</p></li>
<li><p>“Added line ‘But the Mummy will appreciate the lack of humidity’ to mars.txt”</p></li>
<li><p>“Discuss effects of Mars’ climate on the Mummy”</p></li>
</ol>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>Answer 1 is not descriptive enough, and the purpose of the commit is unclear;
and answer 2 is redundant to using “git diff” to see what changed in this commit;
but answer 3 is good: short, descriptive, and imperative.</p>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Committing changes to Git</strong></p>
<p>Which command(s) below would save the changes of <cite>myfile.txt</cite>
to my local Git repository?</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;my</span> <span class="pre">recent</span> <span class="pre">changes&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span> <span class="pre">myfile.txt</span></code>
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;my</span> <span class="pre">recent</span> <span class="pre">changes&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">myfile.txt</span></code>
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;my</span> <span class="pre">recent</span> <span class="pre">changes&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">myfile.txt</span> <span class="pre">&quot;my</span> <span class="pre">recent</span> <span class="pre">changes&quot;</span></code></p></li>
</ol>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<ol class="arabic simple">
<li><p>Would only create a commit if files have already been staged.</p></li>
<li><p>Would try to create a new repository.</p></li>
<li><p>Is correct: first add the file to the staging area, then commit.</p></li>
<li><p>Would try to commit a file “my recent changes” with the message myfile.txt.</p></li>
</ol>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Committing multiple files</strong></p>
<p>The staging area can hold changes from any number of files
that you want to commit as a single snapshot.</p>
<ol class="arabic simple">
<li><p>Add some text to <cite>mars.txt</cite> noting your decision
to consider Venus as a base</p></li>
<li><p>Create a new file <cite>venus.txt</cite> with your initial thoughts
about Venus as a base for you and your friends</p></li>
<li><p>Add changes from both files to the staging area,
and commit those changes.</p></li>
</ol>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>The output below from <cite>cat mars.txt</cite> reflects only content added during
this exercise. Your output may vary.</p>
<p>First we make our changes to the <cite>mars.txt</cite> and <cite>venus.txt</cite> files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>mars.txt
cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Maybe I should start with a base on Venus.</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>venus.txt
cat<span class="w"> </span>venus.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Venus is a nice planet and I definitely should consider it as a base.</span>
</pre></div>
</div>
<p>Now you can add both files to the staging area. We can do that in one line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt<span class="w"> </span>venus.txt
</pre></div>
</div>
<p>Or with multiple commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt
git<span class="w"> </span>add<span class="w"> </span>venus.txt
</pre></div>
</div>
<p>Now the files are ready to commit. You can check that using <cite>git status</cite>. If you are ready to commit use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Write plans to start a base on Venus&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main cc127c2]</span>
<span class="go">Write plans to start a base on Venus</span>
<span class="go">2 files changed, 2 insertions(+)</span>
<span class="go">create mode 100644 venus.txt</span>
</pre></div>
</div>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/P9IDlU7Wpvc" style="border: 0; height: 345px; width: 560px">
</iframe></div><div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Creating a biography</strong></p>
<ul class="simple">
<li><p>Create a new Git repository on your computer called <cite>bio</cite>.</p></li>
<li><p>Write a three-line biography for yourself in a file called <cite>me.txt</cite>,
commit your changes</p></li>
<li><p>Modify one line, add a fourth line</p></li>
<li><p>Display the differences between its updated state and its original state.</p></li>
</ul>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>If needed, move out of the <cite>planets</cite> folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>..
</pre></div>
</div>
<p>Create a new folder called <cite>bio</cite> and ‘move’ into it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>bio
<span class="nb">cd</span><span class="w"> </span>bio
</pre></div>
</div>
<p>Initialise git:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>init
</pre></div>
</div>
<p>Create your biography file <cite>me.txt</cite> using <cite>nano</cite> or another text editor.
Once in place, add and commit it to the repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>me.txt
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add biography file&quot;</span>
</pre></div>
</div>
<p>Modify the file as described (modify one line, add a fourth line).
To display the differences between its updated state and its original state, use <cite>git diff</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff<span class="w"> </span>me.txt
</pre></div>
</div>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/OX6jt7_rMfw" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
<section id="git-history">
<h2>Git history<a class="headerlink" href="#git-history" title="Link to this heading">#</a></h2>
<p>No, not the story of how Git came to be, but how do we get at the history of our commits.
In the previous section we see we can refer to commits by the unique identifiers.
You can refer to the <em>most recent commit</em> of the working
directory by using the identifier <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>.</p>
<p>We’ve been adding one line at a time to <code class="file docutils literal notranslate"><span class="pre">mars.txt</span></code>, so it’s easy to track our
progress by looking, so let’s do that using our <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>.  Before we start,
let’s make a change to <code class="file docutils literal notranslate"><span class="pre">mars.txt</span></code>, adding yet another line.</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
<span class="go">An ill-considered change</span>
</pre></div>
</div>
<p>Now, let’s see what we get.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff<span class="w"> </span>HEAD<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">index b36abfd..0848c8d 100644</span>
<span class="go">--- a/mars.txt</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -1,3 +1,4 @@</span>
<span class="go"> Cold and dry, but everything is my favourite colour</span>
<span class="go"> The two moons may be a problem for werewolves</span>
<span class="go"> But the Mummy will appreciate the lack of humidity</span>
<span class="go">+An ill-considered change.</span>
</pre></div>
</div>
<p>which is the same as what you would get if you leave out <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> (try it).  The
real goodness in all this is when you can refer to previous commits.  We do
that by adding <code class="docutils literal notranslate"><span class="pre">~1</span></code>
(where “~” is “tilde”, pronounced [<strong>til</strong>-d*uh*])
to refer to the commit one before <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff<span class="w"> </span>HEAD~1<span class="w"> </span>mars.txt
</pre></div>
</div>
<p>If we want to see the differences between older commits we can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>
again, but with the notation <code class="docutils literal notranslate"><span class="pre">HEAD~1</span></code>, <code class="docutils literal notranslate"><span class="pre">HEAD~2</span></code>, and so on, to refer to them:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff<span class="w"> </span>HEAD~3<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">index df0654a..b36abfd 100644</span>
<span class="go">--- a/mars.txt</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -1 +1,4 @@</span>
<span class="go"> Cold and dry, but everything is my favourite colour</span>
<span class="go">+The two moons may be a problem for werewolves</span>
<span class="go">+But the Mummy will appreciate the lack of humidity</span>
<span class="go">+An ill-considered change</span>
</pre></div>
</div>
<p>We could also use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code> which shows us what changes we made at an older commit as
well as the commit message, rather than the _differences_ between a commit and our
working directory that we see by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>show<span class="w"> </span>HEAD~3<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">commit f22b25e3233b4645dabd0d81e651fe074bd8e73b</span>
<span class="go">Author: Jon Hill &lt;jon.hill@york.ac.uk&gt;</span>
<span class="go">Date:   Thu Aug 22 09:51:46 2013 -0400</span>

<span class="go">   Start notes on Mars as a base</span>

<span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">new file mode 100644</span>
<span class="go">index 0000000..df0654a</span>
<span class="go">--- /dev/null</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -0,0 +1 @@</span>
<span class="go">+Cold and dry, but everything is my favourite colour</span>
</pre></div>
</div>
<p>We can also refer to commits using those long strings of digits and letters
that <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> displays. These are unique IDs for the changes,
and “unique” really does mean unique: every change to any set of files on any computer
has a unique 40-character identifier. Our first commit was given the ID
<code class="docutils literal notranslate"><span class="pre">f22b25e3233b4645dabd0d81e651fe074bd8e73b</span></code>, so let’s try this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff<span class="w"> </span>f22b25e3233b4645dabd0d81e651fe074bd8e73b<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">index df0654a..93a3e13 100644</span>
<span class="go">--- a/mars.txt</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -1 +1,4 @@</span>
<span class="go"> Cold and dry, but everything is my favourite colour</span>
<span class="go">+The two moons may be a problem for werewolves</span>
<span class="go">+But the Mummy will appreciate the lack of humidity</span>
<span class="go">+An ill-considered change</span>
</pre></div>
</div>
<p>That’s the right answer, but typing out random 40-character strings is annoying,
so Git lets us use just the first few characters (typically seven for normal size projects):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>diff<span class="w"> </span>f22b25e<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">diff --git a/mars.txt b/mars.txt</span>
<span class="go">index df0654a..93a3e13 100644</span>
<span class="go">--- a/mars.txt</span>
<span class="go">+++ b/mars.txt</span>
<span class="go">@@ -1 +1,4 @@</span>
<span class="go"> Cold and dry, but everything is my favourite colour</span>
<span class="go">+The two moons may be a problem for werewolves</span>
<span class="go">+But the Mummy will appreciate the lack of humidity</span>
<span class="go">+An ill-considered change</span>
</pre></div>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/YBOmWfZvxRY" style="border: 0; height: 345px; width: 560px">
</iframe></div><p>So we can save changes to files and see what we’ve changed. Now, how can we restore older versions of things?
Let’s suppose we change our mind about the last update to <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code> (the “ill-considered change”).</p>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> now tells us that the file has been changed, but those changes haven’t been staged:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">Changes not staged for commit:</span>
<span class="go"> (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="go"> (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>

<span class="go">   modified:   mars.txt</span>

<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>
<p>We can put things back the way they were by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>HEAD<span class="w"> </span>mars.txt
cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
</pre></div>
</div>
<p>As you might guess from its name, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> checks out (i.e. restores) an old version of a file.
In this case, we’re telling Git that we want to recover the version of the file recorded in <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>,
which is the last saved commit. If we want to go back even further,
we can use a commit identifier instead:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>f22b25e<span class="w"> </span>mars.txt
cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">Changes to be committed:</span>
<span class="go">(use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>

<span class="go">  modified:   mars.txt</span>
</pre></div>
</div>
<p>Notice that the changes are currently in the staging area.
Again, we can put things back the way they were
by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>HEAD<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>Don’t Lose Your HEAD</strong></p>
<p>Above we used</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>f22b25e<span class="w"> </span>mars.txt
</pre></div>
</div>
<p>to revert <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code> to its state after the commit <code class="docutils literal notranslate"><span class="pre">f22b25e</span></code>. But be careful!
The command <code class="docutils literal notranslate"><span class="pre">checkout</span></code> has other important functionalities and Git will misunderstand
your intentions if you are not accurate with the typing. For example,
if you forget <cite>mars.txt</cite> in the previous command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>f22b25e
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Note: checking out &#39;f22b25e&#39;.</span>
</pre></div>
</div>
<p>You are in <cite>‘detached HEAD</cite>’ state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.</p>
<p>If you want to create a new branch to retain commits you create, you may
do so (now or later) by using <code class="docutils literal notranslate"><span class="pre">-b</span></code> with the checkout command again. Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>&lt;new-branch-name

HEAD<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>at<span class="w"> </span>f22b25e<span class="w"> </span>Start<span class="w"> </span>notes<span class="w"> </span>on<span class="w"> </span>Mars<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>base
</pre></div>
</div>
<p>The “detached HEAD” is like “look, but don’t touch” here,
so you shouldn’t make any changes in this state.
After investigating your repos’ past state, reattach your <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">main</span></code>.</p>
</div>
<p>It’s important to remember that we must use the commit number that identifies the state of the repository
<em>before</em> the change we’re trying to undo. A common mistake is to use the number of
the commit in which we made the change we’re trying to discard. In the example below, we want to
retrieve the state from before the most recent commit (<code class="docutils literal notranslate"><span class="pre">HEAD~1</span></code>), which is commit <code class="docutils literal notranslate"><span class="pre">f22b25e</span></code>:</p>
<img alt="The git commit process" src="_images/git-checkout.png" />
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Simplifying the Common Case</strong></p>
<p>If you read the output of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> carefully,
you’ll see that it includes this hint:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">(use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
</pre></div>
</div>
<p>As it says, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> without a version identifier restores files to the state saved in <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>.
The double dash <cite>–</cite> is needed to separate the names of the files being recovered
from the command itself: without it,
Git would try to use the name of the file as the commit identifier.</p>
</div>
<p>The fact that files can be reverted one by one tends to change the way people organize their work.
If everything is in one large document, it’s hard (but not impossible) to undo changes to the introduction
without also undoing changes made later to the conclusion. If the introduction and conclusion are stored in separate files,
on the other hand, moving backward and forward in time becomes much easier.</p>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Recovering Older Versions of a File</strong></p>
<p>Jennifer has made changes to the Python script that she has been working on for weeks, and the
modifications she made this morning “broke” the script and it no longer runs. She has spent
~ 1hr trying to fix it, with no luck…</p>
<p>Luckily, she has been keeping track of her project’s versions using Git! Which commands below will
let her recover the last committed version of her Python script called
<code class="docutils literal notranslate"><span class="pre">data_cruncher.py</span></code>?</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">HEAD</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">HEAD</span> <span class="pre">data_cruncher.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">HEAD~1</span> <span class="pre">data_cruncher.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;unique</span> <span class="pre">ID</span> <span class="pre">of</span> <span class="pre">last</span> <span class="pre">commit&gt;</span> <span class="pre">data_cruncher.py</span></code></p></li>
<li><p>Both 2 and 4</p></li>
</ol>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>The answer is (5)-Both 2 and 4.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">checkout</span></code> command restores files from the repository, overwriting the files in your working
directory. Answers 2 and 4 both restore the <em>latest</em> version <em>in the repository</em> of the file
<code class="docutils literal notranslate"><span class="pre">data_cruncher.py</span></code>. Answer 2 uses <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> to indicate the <em>latest</em>, whereas answer 4 uses the
unique ID of the last commit, which is what <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> means.</p>
<p>Answer 3 gets the version of <code class="docutils literal notranslate"><span class="pre">data_cruncher.py</span></code> from the commit <em>before</em> <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>, which is NOT
what we wanted.</p>
<p>Answer 1 can be dangerous! Without a filename, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> will restore <strong>all files</strong>
in the current directory (and all directories below it) to their state at the commit specified.
This command will restore <code class="docutils literal notranslate"><span class="pre">data_cruncher.py</span></code> to the latest commit version, but it will also
restore <em>any other files that are changed</em> to that version, erasing any changes you may
have made to those files!</p>
<p>As discussed above, you are left in a <em>detached</em> <cite>HEAD</cite> state, and you don’t want to be there.</p>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Reverting a Commit</strong></p>
<p>Jennifer is collaborating with colleagues on her Python script.  She
realizes her last commit to the project’s repository contained an error, and
wants to undo it.  Jennifer wants to undo correctly so everyone in the project’s
repository gets the correct change. The command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span> <span class="pre">[erroneous</span> <span class="pre">commit</span> <span class="pre">ID]</span></code> will create a
new commit that reverses the erroneous commit.</p>
<p>The command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span></code> is different from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">[commit</span> <span class="pre">ID]</span></code>
because <cite>git checkout</cite> returns the files not yet committed within the local repository
to a previous state, whereas <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span></code>
reverses changes committed to the local and project repositories.</p>
<p>Below are the right steps and explanations for Jennifer to use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span></code>,
what is the missing command?</p>
<ol class="arabic simple">
<li><p><cite>________ # Look at the git history of the project to find the commit ID</cite></p></li>
<li><p>Copy the ID (the first few characters of the ID, e.g. 0b1d055).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span> <span class="pre">[commit</span> <span class="pre">ID]</span></code></p></li>
<li><p>Type in the new commit message.</p></li>
<li><p>Save and close</p></li>
</ol>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>The command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> lists project history with commit IDs.</p>
<p>The command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span> <span class="pre">HEAD</span></code> shows changes made at the latest commit, and lists
the commit ID; however, Jennifer should double-check it is the correct commit, and no one
else has committed changes to the repository.</p>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Understanding Workflow and History</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>planets
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Venus is beautiful and full of love&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>venus.txt
git<span class="w"> </span>add<span class="w"> </span>venus.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Venus is too hot to be suitable as a base&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>venus.txt
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Comment on Venus as an unsuitable base&quot;</span>
git<span class="w"> </span>checkout<span class="w"> </span>HEAD<span class="w"> </span>venus.txt
cat<span class="w"> </span>venus.txt<span class="w"> </span><span class="c1">#this will print the contents of venus.txt to the screen</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Venus</span> <span class="pre">is</span> <span class="pre">too</span> <span class="pre">hot</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">suitable</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">base</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Venus</span> <span class="pre">is</span> <span class="pre">beautiful</span> <span class="pre">and</span> <span class="pre">full</span> <span class="pre">of</span> <span class="pre">love</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Venus</span> <span class="pre">is</span> <span class="pre">beautiful</span> <span class="pre">and</span> <span class="pre">full</span> <span class="pre">of</span> <span class="pre">love</span></code>
<code class="docutils literal notranslate"><span class="pre">Venus</span> <span class="pre">is</span> <span class="pre">too</span> <span class="pre">hot</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">suitable</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">base</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Error</span> <span class="pre">because</span> <span class="pre">you</span> <span class="pre">have</span> <span class="pre">changed</span> <span class="pre">venus.txt</span> <span class="pre">without</span> <span class="pre">committing</span> <span class="pre">the</span> <span class="pre">changes</span></code></p></li>
</ol>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>The answer is 2.</p>
<p>The command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">venus.txt</span></code> places the current version of <code class="docutils literal notranslate"><span class="pre">venus.txt</span></code> into the staging area.
The changes to the file from the second <code class="docutils literal notranslate"><span class="pre">echo</span></code> command are only applied to the working copy,
not the version in the staging area.</p>
<p>So, when <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;Comment</span> <span class="pre">on</span> <span class="pre">Venus</span> <span class="pre">as</span> <span class="pre">an</span> <span class="pre">unsuitable</span> <span class="pre">base&quot;</span></code> is executed,
the version of <code class="docutils literal notranslate"><span class="pre">venus.txt</span></code> committed to the repository is the one from the staging area and
has only one line.</p>
<p>At this time, the working copy still has the second line (and
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> will show that the file is modified). However, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">HEAD</span> <span class="pre">venus.txt</span></code>
replaces the working copy with the most recently committed version of <code class="docutils literal notranslate"><span class="pre">venus.txt</span></code>.</p>
<p>So, <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">venus.txt</span></code> will output
<code class="docutils literal notranslate"><span class="pre">Venus</span> <span class="pre">is</span> <span class="pre">beautiful</span> <span class="pre">and</span> <span class="pre">full</span> <span class="pre">of</span> <span class="pre">love.</span></code></p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Checking Understanding of ``git diff``</strong></p>
<p>Consider this command: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">HEAD~9</span> <span class="pre">mars.txt</span></code>. What do you predict this command
will do if you execute it? What happens when you do execute it? Why?</p>
<p>Try another command, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">[ID]</span> <span class="pre">mars.txt</span></code>, where [ID] is replaced with
the unique identifier for your most recent commit. What do you think will happen,
and what does happen?</p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Getting Rid of Staged Changes</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> can be used to restore a previous commit when unstaged changes have
been made, but will it also work for changes that have been staged but not committed?
Make a change to <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code>, add that change, and use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> to see if
you can remove your change.</p>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/sC8qfvtQqkU" style="border: 0; height: 345px; width: 560px">
</iframe></div><div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Explore and Summarize Histories</strong></p>
<p>Exploring history is an important part of Git, and often it is a challenge to find
the right commit ID, especially if the commit is from several months ago.</p>
<p>Imagine the <code class="docutils literal notranslate"><span class="pre">planets</span></code> project has more than 50 files.
You would like to find a commit that modifies some specific text in <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code>.
When you type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>, a very long list appeared.
How can you narrow down the search?</p>
<p>Recall that the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> command allows us to explore one specific file,
e.g., <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">mars.txt</span></code>. We can apply a similar idea here.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log<span class="w"> </span>mars.txt
</pre></div>
</div>
<p>Unfortunately some of these commit messages are very ambiguous, e.g., <code class="docutils literal notranslate"><span class="pre">update</span> <span class="pre">files</span></code>.
How can you search through these files?</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> are very useful and they summarize a different part of the history
for you. Is it possible to combine both? Let’s try the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log<span class="w"> </span>--patch<span class="w"> </span>mars.txt
</pre></div>
</div>
<p>You should get a long list of output, and you should be able to see both commit messages and
the difference between each commit.</p>
<p>Question: What does the following command do?</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log<span class="w"> </span>--patch<span class="w"> </span>HEAD~9<span class="w"> </span>*.txt
</pre></div>
</div>
</div>
</section>
<section id="ignoring-files">
<h2>Ignoring files<a class="headerlink" href="#ignoring-files" title="Link to this heading">#</a></h2>
<p>What if we have files that we do not want Git to track for us,
like backup files created by our editor or intermediate files created during data analysis?
Let’s create a few dummy files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>results
touch<span class="w"> </span>a.dat<span class="w"> </span>b.dat<span class="w"> </span>c.dat<span class="w"> </span>results/a.out<span class="w"> </span>results/b.out
</pre></div>
</div>
<p>and see what Git says:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">Untracked files:</span>
<span class="go"> (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>

<span class="go">    a.dat</span>
<span class="go">    b.dat</span>
<span class="go">    c.dat</span>
<span class="go">    results/</span>

<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
</div>
<p>Putting these files under version control would be a waste of disk space.
What’s worse, having them all listed could distract us from changes that actually matter,
so let’s tell Git to ignore them.</p>
<p>We do this by creating a file in the root directory of our project called <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>.gitignore
cat<span class="w"> </span>.gitignore
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">*.dat</span>
<span class="go">results/</span>
</pre></div>
</div>
<p>These patterns tell Git to ignore any file whose name ends in <code class="docutils literal notranslate"><span class="pre">.dat</span></code>
and everything in the <code class="docutils literal notranslate"><span class="pre">results</span></code> directory. (If any of these files were already being tracked,
Git would continue to track them.)</p>
<p>Once we have created this file, the output of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> is much cleaner:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">Untracked files:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>

<span class="go">    .gitignore</span>

<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
</div>
<p>The only thing Git notices now is the newly-created <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file.
You might think we wouldn’t want to track it, but everyone we’re sharing our repository with will probably want to ignore
the same things that we’re ignoring. Let’s add and commit <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>.gitignore
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Ignore data files and the results folder.&quot;</span>
git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">nothing to commit, working tree clean</span>
</pre></div>
</div>
<p>As a bonus, using <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> helps us avoid accidentally adding files to the repository that we don’t want to track:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>a.dat
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">The following paths are ignored by one of your .gitignore files:</span>
<span class="go">a.dat</span>
<span class="go">Use -f if you really want to add them.</span>
</pre></div>
</div>
<p>If we really want to override our ignore settings, we can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-f</span></code> to force Git to add something. For example,
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-f</span> <span class="pre">a.dat</span></code>. We can also always see the status of ignored files if we want:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status<span class="w"> </span>--ignored
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">Ignored files:</span>
<span class="go"> (use &quot;git add -f &lt;file&gt;...&quot; to include in what will be committed)</span>

<span class="go">        a.dat</span>
<span class="go">        b.dat</span>
<span class="go">        c.dat</span>
<span class="go">        results/</span>

<span class="go">nothing to commit, working tree clean</span>
</pre></div>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Ignoring Nested Files</strong></p>
<p>Given a directory structure that looks like:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">results/data</span>
<span class="go">results/plots</span>
</pre></div>
</div>
<p>How would you ignore only <code class="docutils literal notranslate"><span class="pre">results/plots</span></code> and not <code class="docutils literal notranslate"><span class="pre">results/data</span></code>?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p><strong>Solution</strong></p>
<p>If you only want to ignore the contents of
<code class="docutils literal notranslate"><span class="pre">results/plots</span></code>, you can change your <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> to ignore
only the <code class="docutils literal notranslate"><span class="pre">/plots/</span></code> subfolder by adding the following line to
your .gitignore:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">results/plots/</span>
</pre></div>
</div>
<p>This line will ensure only the contents of <code class="docutils literal notranslate"><span class="pre">results/plots</span></code> is ignored, and
not the contents of <code class="docutils literal notranslate"><span class="pre">results/data</span></code>.
As with most programming issues, there are a few alternative ways that one may ensure this ignore rule is followed.
The “Ignoring Nested Files: Variation” exercise has a slightly
different directory structure that presents an alternative solution.
Further, the discussion page has more detail on ignore rules.</p>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Including Specific Files</strong></p>
<p>How would you ignore all <code class="docutils literal notranslate"><span class="pre">.dat</span></code> files in your root directory except for
<code class="docutils literal notranslate"><span class="pre">final.dat</span></code>?
Hint: Find out what <cite>!</cite> (the exclamation point operator) does</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p><strong>Solution</strong></p>
<p>You would add the following two lines to your .gitignore:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">\*.dat           # ignore all data files</span>
<span class="go">!final.dat      # except final.data</span>
</pre></div>
</div>
<p>The exclamation point operator will include a previously excluded entry.</p>
<p>Note also that because you’ve previously committed <code class="docutils literal notranslate"><span class="pre">.dat</span></code> files in this
lesson they will not be ignored with this new rule. Only future additions
of <code class="docutils literal notranslate"><span class="pre">.dat</span></code> files added to the root directory will be ignored.</p>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>Ignoring Nested Files: Variation</strong></p>
<p>Given a directory structure that looks similar to the earlier Nested Files
exercise, but with a slightly different directory structure:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">results/data</span>
<span class="go">results/images</span>
<span class="go">results/plots</span>
<span class="go">results/analysis</span>
</pre></div>
</div>
<p>How would you ignore all of the contents in the results folder, but not <code class="docutils literal notranslate"><span class="pre">results/data</span></code>?</p>
<p>Hint: think a bit about how you created an exception with the <code class="docutils literal notranslate"><span class="pre">!</span></code> operator
before.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p><strong>Solution</strong></p>
<p>If you want to ignore the contents of
<code class="docutils literal notranslate"><span class="pre">results/</span></code> but not those of <code class="docutils literal notranslate"><span class="pre">results/data/</span></code>, you can change your <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> to ignore
the contents of results folder, but create an exception for the contents of the
<code class="docutils literal notranslate"><span class="pre">results/data</span></code> subfolder. Your .gitignore would look like this:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">results/*               # ignore everything in results folder</span>
<span class="go">!results/data/          # do not ignore results/data/ contents</span>
</pre></div>
</div>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>The Order of Rules</strong></p>
<p>Given a <cite>.gitignore</cite> file with the following contents:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">*.dat</span>
<span class="go">!*.dat</span>
</pre></div>
</div>
<p>What will be the result?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p><strong>Solution</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">!</span></code> modifier will negate an entry from a previously defined ignore pattern.
Because the <code class="docutils literal notranslate"><span class="pre">!*.dat</span></code> entry negates all of the previous <code class="docutils literal notranslate"><span class="pre">.dat</span></code> files in the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>,
none of them will be ignored, and all <code class="docutils literal notranslate"><span class="pre">.dat</span></code> files will be tracked.</p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Log Files</strong></p>
<p>You wrote a script that creates many intermediate log-files of the form <code class="docutils literal notranslate"><span class="pre">log_01</span></code>, <code class="docutils literal notranslate"><span class="pre">log_02</span></code>, <code class="docutils literal notranslate"><span class="pre">log_03</span></code>, etc.
You want to keep them but you do not want to track them through <code class="docutils literal notranslate"><span class="pre">git</span></code>.</p>
<ol class="arabic simple">
<li><p>Write <strong>one</strong> <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> entry that excludes files of the form <code class="docutils literal notranslate"><span class="pre">log_01</span></code>, <code class="docutils literal notranslate"><span class="pre">log_02</span></code>, etc.</p></li>
<li><p>Test your “ignore pattern” by creating some dummy files of the form <code class="docutils literal notranslate"><span class="pre">log_01</span></code>, etc.</p></li>
<li><p>You find that the file <code class="docutils literal notranslate"><span class="pre">log_01</span></code> is very important after all, add it to the tracked files without changing the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> again.</p></li>
<li><p>Discuss with your neighbour what other types of files could reside in your directory that you do not want to track and thus would exclude via <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>.</p></li>
</ol>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<ol class="arabic simple">
<li><p>append either <cite>log_*</cite>  or  <cite>log*</cite>  as a new entry in your .gitignore</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>track <cite>log_01</cite> using   <cite>git add -f log_01</cite></p></li>
</ol>
</div>
</section>
<section id="github">
<h2>Github<a class="headerlink" href="#github" title="Link to this heading">#</a></h2>
<p>Version control really comes into its own when we begin to collaborate with
other people.  We already have most of the machinery we need to do this; the
only thing missing is to copy changes from one repository to another.</p>
<p>Systems like Git allow us to move work between any two repositories.  In
practice, though, it’s easiest to use one copy as a central hub, and to keep it
on the web rather than on someone’s laptop.  Most programmers use hosting
services like <a class="reference external" href="https://github.com">GitHub</a>, <a class="reference external" href="https://bitbucket.org">Bitbucket</a> or
<a class="reference external" href="https://gitlab.com/">GitLab</a> to hold those main copies; we’ll explore the pros
and cons of this in a later episode.</p>
<p>Let’s start by sharing the changes we’ve made to our current project with the
world. To this end we are going to create a <em>remote</em> repository that will be
linked to our <em>local</em> repository.</p>
<section id="creating-a-remote-repository">
<h3>1. Creating a remote repository<a class="headerlink" href="#creating-a-remote-repository" title="Link to this heading">#</a></h3>
<p>Log in to <a class="reference external" href="https://github.com">GitHub</a>, then click on the icon in the top right corner to
create a new repository called <code class="docutils literal notranslate"><span class="pre">planets</span></code>:</p>
<a class="reference external image-reference" href="../images/github-create-repo-01.png"><img alt="Creating a Repository on GitHub (Step 1)" src="_images/github-create-repo-01.png" /></a>
<p>Name your repository “planets” and then click “Create Repository”.</p>
<p>Note: Since this repository will be connected to a local repository, it needs to be empty. Leave
“Initialize this repository with a README” unchecked, and keep “None” as options for both “Add
.gitignore” and “Add a license.” See the “GitHub License and README files” exercise below for a full
explanation of why the repository needs to be empty.</p>
<a class="reference external image-reference" href="../images/github-create-repo-02.png"><img alt="Creating a Repository on GitHub (Step 2)" src="_images/github-create-repo-02.png" /></a>
<p>As soon as the repository is created, GitHub displays a page with a URL and some
information on how to configure your local repository:</p>
<a class="reference external image-reference" href="../images/github-create-repo-03.png"><img alt="Creating a Repository on GitHub (Step 3)" src="_images/github-create-repo-03.png" /></a>
<p>This effectively does the following on GitHub’s servers:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>planets
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>planets
$<span class="w"> </span>git<span class="w"> </span>init
</pre></div>
</div>
<p>If you remember back to the earlier <a class="reference external" href="../04-changes/">episode</a> where we added and
committed our earlier work on <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code>, we had a diagram of the local repository
which looked like this:</p>
<a class="reference external image-reference" href="../images/git-staging-area.png"><img alt="The Local Repository with Git Staging Area" src="_images/git-staging-area.png" /></a>
<p>Now that we have two repositories, we need a diagram like this:</p>
<a class="reference external image-reference" href="../images/git-freshly-made-github-repo.png"><img alt="Freshly-Made GitHub Repository" src="_images/git-freshly-made-github-repo.png" /></a>
<p>Note that our local repository still contains our earlier work on <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code>, but the
remote repository on GitHub appears empty as it doesn’t contain any files yet.</p>
</section>
<section id="connect-local-to-remote-repository">
<h3>2. Connect local to remote repository<a class="headerlink" href="#connect-local-to-remote-repository" title="Link to this heading">#</a></h3>
<p>Now we connect the two repositories.  We do this by making the
GitHub repository a remote for the local repository.
The home page of the repository on GitHub includes the URL string we need to
identify it:</p>
<a class="reference external image-reference" href="../images/github-find-repo-string.png"><img alt="Where to Find Repository URL on GitHub" src="_images/github-find-repo-string.png" /></a>
<p>Click on the ‘SSH’ link to change the protocol from HTTPS to SSH.</p>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>HTTPS vs. SSH</strong></p>
<p>We use SSH here because, while it requires some additional configuration, it is a
security protocol widely used by many applications.  The steps below describe SSH at a
minimum level for GitHub. A supplemental episode to this lesson discusses advanced setup
and concepts of SSH and key pairs, and other material supplemental to git related SSH.</p>
</div>
<a class="reference external image-reference" href="../images/github-change-repo-string.png"><img alt="Changing the Repository URL on GitHub" src="_images/github-change-repo-string.png" /></a>
<p>Copy that URL from the browser, go into the local <code class="docutils literal notranslate"><span class="pre">planets</span></code> repository, and run
this command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github.com:jh1889/planets.git
</pre></div>
</div>
<p>Make sure to use the URL for your repository rather than mine: the only
difference should be your username instead of <code class="docutils literal notranslate"><span class="pre">jh1889</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">origin</span></code> is a local name used to refer to the remote repository. It could be called
anything, but <code class="docutils literal notranslate"><span class="pre">origin</span></code> is a convention that is often used by default in git
and GitHub, so it’s helpful to stick with this unless there’s a reason not to.</p>
<p>We can check that the command has worked by running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>-v
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">origin   git@github.com:vlad/planets.git (fetch)</span>
<span class="go">origin   git@github.com:vlad/planets.git (push)</span>
</pre></div>
</div>
<p>We’ll discuss remotes in more detail in the next section, while
talking about how they might be used for collaboration.</p>
</section>
<section id="ssh-background-and-setup">
<h3>3. SSH Background and Setup<a class="headerlink" href="#ssh-background-and-setup" title="Link to this heading">#</a></h3>
<p>Before I can connect to a remote repository, I need to set up a way for his computer to
authenticate with GitHub so it knows it’s me trying to connect to my remote repository.</p>
<p>We are going to set up the method that is commonly used by many different services to authenticate
access on the command line.  This method is called Secure Shell Protocol (SSH).  SSH is a cryptographic
network protocol that allows secure communication between computers using an otherwise insecure network.</p>
<p>SSH uses what is called a key pair. This is two keys that work together to validate access. One key is
publicly known and called the public key, and the other key called the private key is kept private.
Very descriptive names.</p>
<p>You can think of the public key as a padlock, and only you have the key (the private key) to open it.
You use the public key where you want a secure method of communication, such as your GitHub account.
You give this padlock, or public key, to GitHub and say “lock the communications to my account with this
so that only computers that have my private key can unlock communications and send git commands as my GitHub account.”</p>
<p>What we will do now is the minimum required to set up the SSH keys and add the public key to a GitHub account.</p>
<p>The first thing we are going to do is check if this has already been done on the computer you’re on.
Because generally speaking, this setup only needs to happen once and then you can forget about it.</p>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Keeping your keys secure</strong></p>
<p>You shouldn’t really forget about your SSH keys, since they keep your account secure. It’s good
practice to audit your secure shell keys every so often. Especially if you are using multiple
computers to access your account.</p>
</div>
<p>We will run the list command to check what key pairs already exist on your computer.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-al<span class="w"> </span>~/.ssh
</pre></div>
</div>
<p>Your output is going to look a little different depending on whether or not SSH has ever been set up on the computer you are using.</p>
<p>Our user has not set up SSH on his computer, so their output is</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">ls: cannot access &#39;/c/Users/jh1889/.ssh&#39;: No such file or directory</span>
</pre></div>
</div>
<p>If SSH has been set up on the computer you’re using, the public and private key pairs will be listed.
The file names are either <code class="docutils literal notranslate"><span class="pre">id_ed25519</span></code>/<code class="docutils literal notranslate"><span class="pre">id_ed25519.pub</span></code> or <code class="docutils literal notranslate"><span class="pre">id_rsa</span></code>/<code class="docutils literal notranslate"><span class="pre">id_rsa.pub</span></code>
depending on how the key pairs were set up.</p>
<p>Since they don’t exist on this computer, we will use this command to create them.</p>
<section id="create-an-ssh-key-pair">
<h4>3.1 Create an SSH key pair<a class="headerlink" href="#create-an-ssh-key-pair" title="Link to this heading">#</a></h4>
<p>To create an SSH key pair we use this command, where the <code class="docutils literal notranslate"><span class="pre">-t</span></code> option specifies which type of
algorithm to use and <code class="docutils literal notranslate"><span class="pre">-C</span></code> attaches a comment to the key (here, our email):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh-keygen<span class="w"> </span>-t<span class="w"> </span>ed25519<span class="w"> </span>-C<span class="w"> </span><span class="s2">&quot;jon.hill@york.ac.uk&quot;</span>
</pre></div>
</div>
<p>If you are using a legacy system that doesn’t support the Ed25519 algorithm, use:
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">ssh-keygen</span> <span class="pre">-t</span> <span class="pre">rsa</span> <span class="pre">-b</span> <span class="pre">4096</span> <span class="pre">-C</span> <span class="pre">&quot;your_email&#64;example.com&quot;</span></code></p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Generating public/private ed25519 key pair.</span>
<span class="go">Enter file in which to save the key (/c/Users/jh1889/.ssh/id_ed25519):</span>
</pre></div>
</div>
<p>We want to use the default file, so just press :kbd: <cite>Enter</cite>.</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Created directory &#39;/c/Users/jh1889/.ssh&#39;.</span>
<span class="go">Enter passphrase (empty for no passphrase):</span>
</pre></div>
</div>
<p>Now, it is prompting us for a passphrase.  Since we are using computers that other people sometimes have access to,
we want to create a passphrase.  Be sure to use something memorable or save your passphrase somewhere,
as there is no “reset my password” option.</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Enter same passphrase again:</span>
</pre></div>
</div>
<p>After entering the same passphrase a second time, we receive the confirmation</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Your identification has been saved in /c/Users/jh1889/.ssh/id_ed25519</span>
<span class="go">Your public key has been saved in /c/Users/jh1889/.ssh/id_ed25519.pub</span>
<span class="go">The key fingerprint is:</span>
<span class="go">SHA256:SMSPIStNyA00KPxuYu94KpZgRAYjgt9g4BA4kFy3g1o jon.hill@york.ac.uk</span>
<span class="go">The key&#39;s randomart image is:</span>
<span class="go">+--[ED25519 256]--+</span>
<span class="go">|^B== o.          |</span>
<span class="go">|%*=.*.+          |</span>
<span class="go">|+=.E =.+         |</span>
<span class="go">| .=.+.o..        |</span>
<span class="go">|....  . S        |</span>
<span class="go">|.+ o             |</span>
<span class="go">|+ =              |</span>
<span class="go">|.o.o             |</span>
<span class="go">|oo+.             |</span>
<span class="go">+----[SHA256]-----+</span>
</pre></div>
</div>
<p>The “identification” is actually the private key. You should never share it.
The public key is appropriately named.  The “key fingerprint”
is a shorter version of a public key.</p>
<p>Now that we have generated the SSH keys, we will find the SSH files when we check.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-al<span class="w"> </span>~/.ssh
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">drwxr-xr-x 1 jh1889 197121   0 Jul 16 14:48 ./</span>
<span class="go">drwxr-xr-x 1 jh1889 197121   0 Jul 16 14:48 ../</span>
<span class="go">-rw-r--r-- 1 jh1889 197121 419 Jul 16 14:48 id_ed25519</span>
<span class="go">-rw-r--r-- 1 jh1889 197121 106 Jul 16 14:48 id_ed25519.pub</span>
</pre></div>
</div>
</section>
<section id="copy-the-public-key-to-github">
<h4>3.2 Copy the public key to GitHub<a class="headerlink" href="#copy-the-public-key-to-github" title="Link to this heading">#</a></h4>
<p>Now we have a SSH key pair and we can run this command to check if GitHub can read our authentication.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>-T<span class="w"> </span>git@github.com
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The authenticity of host &#39;github.com (192.30.255.112)&#39; can&#39;t be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? y
Please type &#39;yes&#39;, &#39;no&#39; or the fingerprint: yes
Warning: Permanently added &#39;github.com&#39; (RSA) to the list of known hosts.
git@github.com: Permission denied (publickey).
</pre></div>
</div>
<p>Right, we forgot that we need to give GitHub our public key!</p>
<p>First, we need to copy the public key.  Be sure to include the <code class="docutils literal notranslate"><span class="pre">.pub</span></code> at the end, otherwise you’re looking at the private key.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>~/.ssh/id_ed25519.pub
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDmRA3d51X0uu9wXek559gfn6UFNF69yZjChyBIU2qKI jon.hill@york.ac.uk</span>
</pre></div>
</div>
<p>Now, going to GitHub.com, click on your profile icon in the top right corner to get the drop-down menu.  Click “Settings,” then on the
settings page, click “SSH and GPG keys,” on the left side “Account settings” menu.  Click the “New SSH key” button on the right side. Now,
you can add the title (use the name of your computer, e.g. “laptop”), paste your SSH key into the field, and click the “Add SSH key” to complete the setup.</p>
<p>Now that we’ve set that up, let’s check our authentication again from the command line.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ssh<span class="w"> </span>-T<span class="w"> </span>git@github.com
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Hi Jon! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span>
</pre></div>
</div>
<p>Good! This output confirms that the SSH key works as intended. We are now ready to push our work to the remote repository.</p>
</section>
</section>
<section id="push-local-changes-to-a-remote">
<h3>4. Push local changes to a remote<a class="headerlink" href="#push-local-changes-to-a-remote" title="Link to this heading">#</a></h3>
<p>Now that authentication is setup, we can return to the remote. This command will push the changes from
our local repository to the repository on GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<p>Since we set up a passphrase, it will prompt for it.  If you completed advanced settings for your authentication, it
will not prompt for a passphrase.</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Enumerating objects: 16, done.</span>
<span class="go">Counting objects: 100% (16/16), done.</span>
<span class="go">Delta compression using up to 8 threads.</span>
<span class="go">Compressing objects: 100% (11/11), done.</span>
<span class="go">Writing objects: 100% (16/16), 1.45 KiB | 372.00 KiB/s, done.</span>
<span class="go">Total 16 (delta 2), reused 0 (delta 0)</span>
<span class="go">remote: Resolving deltas: 100% (2/2), done.</span>
<span class="go">To https://github.com/jh1889/planets.git</span>
<span class="go"> * [new branch]      main -&gt; main</span>
</pre></div>
</div>
<p>Our local and remote repositories are now in this state:</p>
<a class="reference external image-reference" href="../images/github-repo-after-first-push.png"><img alt="GitHub Repository After First Push" src="_images/github-repo-after-first-push.png" /></a>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>The ‘-u’ Flag</strong></p>
<p>You may see a <code class="docutils literal notranslate"><span class="pre">-u</span></code> option used with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> in some documentation.  This
option is synonymous with the <code class="docutils literal notranslate"><span class="pre">--set-upstream-to</span></code> option for the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code>
command, and is used to associate the current branch with a remote branch so
that the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> command can be used without any arguments. To do this,
simply use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">-u</span> <span class="pre">origin</span> <span class="pre">main</span></code> once the remote has been set up.</p>
</div>
<p>We can pull changes from the remote repository to the local one as well:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">From https://github.com/vlad/planets</span>
<span class="go">* branch            main     -&gt; FETCH_HEAD</span>
<span class="go">Already up-to-date.</span>
</pre></div>
</div>
<p>Pulling has no effect in this case because the two repositories are already
synchronized.  If someone else had pushed some changes to the repository on
GitHub, though, this command would download them to our local repository.</p>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>GitHub GUI</strong></p>
<p>Browse to your <code class="docutils literal notranslate"><span class="pre">planets</span></code> repository on GitHub.
Under the Code tab, find and click on the text that says “XX commits” (where “XX” is some number).
Hover over, and click on, the three buttons to the right of each commit.
What information can you gather/explore from these buttons?
How would you get that same information in the shell?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>The left-most button (with the picture of a clipboard) copies the full identifier of the commit
to the clipboard. In the shell, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> will show you the full commit identifier for each
commit.</p>
<p>When you click on the middle button, you’ll see all of the changes that were made in that
particular commit. Green shaded lines indicate additions and red ones removals. In the shell we
can do the same thing with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>. In particular, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">ID1..ID2</span></code> where ID1 and
ID2 are commit identifiers (e.g. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">a3bf1e5..041e637</span></code>) will show the differences
between those two commits.</p>
<p>The right-most button lets you view all of the files in the repository at the time of that
commit. To do this in the shell, we’d need to checkout the repository at that particular time.
We can do this with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">ID</span></code> where ID is the identifier of the commit we want to
look at. If we do this, we need to remember to put the repository back to the right state
afterwards!</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Uploading files directly in GitHub browser</strong></p>
<p>Github also allows you to skip the command line and upload files directly to
your repository without having to leave the browser. There are two options.
First you can click the “Upload files” button in the toolbar at the top of the
file tree. Or, you can drag and drop files from your desktop onto the file
tree. You can read more about this <a class="reference external" href="https://help.github.com/articles/adding-a-file-to-a-repository/">on this GitHub page</a></p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>GitHub Timestamp</strong></p>
<p>Create a remote repository on GitHub. Push the contents of your local
repository to the remote. Make changes to your local repository and push these
changes. Go to the repo you just created on GitHub and check the
timestamps of the files. How does GitHub
record times, and why?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>GitHub displays timestamps in a human readable relative format (i.e. “22 hours ago” or “three
weeks ago”). However, if you hover over the timestamp, you can see the exact time at which the
last change to the file occurred.</p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Push vs. Commit</strong></p>
<p>In this episode, we introduced the “git push” command.
How is “git push” different from “git commit”?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>When we push changes, we’re interacting with a remote repository to update it with the changes
we’ve made locally (often this corresponds to sharing the changes we’ve made with others).
Commit only updates your local repository.</p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>GitHub License and README files</strong></p>
<p>In this episode we learned about creating a remote repository on GitHub, but when you initialized
your GitHub repo, you didn’t add a README.md or a license file. If you had, what do you think
would have happened when you tried to link your local and remote repositories?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>In this case, we’d see a merge conflict due to unrelated histories. When GitHub creates a
README.md file, it performs a commit in the remote repository. When you try to pull the remote
repository to your local repository, Git detects that they have histories that do not share a
common origin and refuses to merge.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">warning: no common commits</span>
<span class="go">remote: Enumerating objects: 3, done.</span>
<span class="go">remote: Counting objects: 100% (3/3), done.</span>
<span class="go">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</span>
<span class="go">Unpacking objects: 100% (3/3), done.</span>
<span class="go">From https://github.com/vlad/planets</span>
<span class="go"> * branch            main     -&gt; FETCH_HEAD</span>
<span class="go"> * [new branch]      main     -&gt; origin/main</span>
<span class="go">fatal: refusing to merge unrelated histories</span>
</pre></div>
</div>
<p>You can force git to merge the two repositories with the option <code class="docutils literal notranslate"><span class="pre">--allow-unrelated-histories</span></code>.
Be careful when you use this option and carefully examine the contents of local and remote
repositories before merging.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>--allow-unrelated-histories<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">From https://github.com/vlad/planets</span>
<span class="go"> * branch            main     -&gt; FETCH_HEAD</span>
<span class="go">Merge made by the &#39;recursive&#39; strategy.</span>
<span class="go">README.md | 1 +</span>
<span class="go">1 file changed, 1 insertion(+)</span>
<span class="go">create mode 100644 README.md</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="collaboration-with-git">
<h2>Collaboration with Git<a class="headerlink" href="#collaboration-with-git" title="Link to this heading">#</a></h2>
<p>For the next step, get into pairs.  One person will be the “Owner” and the other
will be the “Collaborator”. The goal is that the Collaborator add changes into
the Owner’s repository. We will switch roles at the end, so both persons will
play Owner and Collaborator.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p><strong>Practising By Yourself</strong></p>
<p>If you’re working through this lesson on your own, you can carry on by opening
a second terminal window.
This window will represent your partner, working on another computer. You
won’t need to give anyone access on GitHub, because both ‘partners’ are you.</p>
</div>
<p>The Owner needs to give the Collaborator access. On GitHub, click the “Settings”
button on the right, select “Collaborators”, click “Add people”, and
then enter your partner’s username.</p>
<a class="reference external image-reference" href="../images/github-add-collaborators.png"><img alt="Adding Collaborators on GitHub" src="_images/github-add-collaborators.png" /></a>
<p>To accept access to the Owner’s repo, the Collaborator
needs to go to <a class="github reference external" href="https://github.com/notifications">notifications</a>
or check for email notification. Once there she can accept access to the Owner’s repo.</p>
<p>Next, the Collaborator needs to download a copy of the Owner’s repository to her
machine. This is called “cloning a repo”.</p>
<p>The Collaborator doesn’t want to overwrite her own version of <code class="docutils literal notranslate"><span class="pre">planets.git</span></code>, so
needs to clone the Owner’s repository to a different location than her own
repository with the same name.</p>
<p>To clone the Owner’s repo into her <code class="docutils literal notranslate"><span class="pre">Desktop</span></code> folder, the Collaborator enters:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:jh1889/planets.git<span class="w"> </span>~/Desktop/jh1889-planets
</pre></div>
</div>
<p>Replace ‘jh1889’ with the Owner’s username.</p>
<p>If you choose to clone without the clone path
(<code class="docutils literal notranslate"><span class="pre">~/Desktop/jh1889-planets</span></code>) specified at the end,
you will clone inside your own planets folder!
Make sure to navigate to the <code class="docutils literal notranslate"><span class="pre">Desktop</span></code> folder first.</p>
<a class="reference external image-reference" href="../images/github-collaboration.png"><img alt="After Creating Clone of Repository" src="_images/github-collaboration.png" /></a>
<p>The Collaborator can now make a change in her clone of the Owner’s repository,
exactly the same way as we’ve been doing before:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/Desktop/jh1889-planets
nano<span class="w"> </span>pluto.txt
cat<span class="w"> </span>pluto.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">It is so a planet!</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>pluto.txt
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add notes about Pluto&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">1 file changed, 1 insertion(+)</span>
<span class="go">create mode 100644 pluto.txt</span>
</pre></div>
</div>
<p>Then push the change to the <em>Owner’s repository</em> on GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Enumerating objects: 4, done.</span>
<span class="go">Counting objects: 4, done.</span>
<span class="go">Delta compression using up to 4 threads.</span>
<span class="go">Compressing objects: 100% (2/2), done.</span>
<span class="go">Writing objects: 100% (3/3), 306 bytes, done.</span>
<span class="go">Total 3 (delta 0), reused 0 (delta 0)</span>
<span class="go">To https://github.com/jh1889/planets.git</span>
<span class="go">   9272da5..29aba7c  main -&gt; main</span>
</pre></div>
</div>
<p>Note that we didn’t have to create a remote called <code class="docutils literal notranslate"><span class="pre">origin</span></code>: Git uses this
name by default when we clone a repository.  (This is why <code class="docutils literal notranslate"><span class="pre">origin</span></code> was a
sensible choice earlier when we were setting up remotes by hand.)</p>
<p>Take a look at the Owner’s repository on GitHub again, and you should be
able to see the new commit made by the Collaborator. You may need to refresh
your browser to see the new commit.</p>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Some more about remotes</strong></p>
<p>In this section and the previous one, our local repository has had
a single “remote”, called <code class="docutils literal notranslate"><span class="pre">origin</span></code>. A remote is a copy of the repository
that is hosted somewhere else, that we can push to and pull from, and
there’s no reason that you have to work with only one. For example,
on some large projects you might have your own copy in your own GitHub
account (you’d probably call this <code class="docutils literal notranslate"><span class="pre">origin</span></code>) and also the main “upstream”
project repository (let’s call this <code class="docutils literal notranslate"><span class="pre">upstream</span></code> for the sake of examples).
You would pull from <code class="docutils literal notranslate"><span class="pre">upstream</span></code> from time to
time to get the latest updates that other people have committed.</p>
<p>Remember that the name you give to a remote only exists locally. It’s
an alias that you choose - whether <code class="docutils literal notranslate"><span class="pre">origin</span></code>, or <code class="docutils literal notranslate"><span class="pre">upstream</span></code>, or <code class="docutils literal notranslate"><span class="pre">fred</span></code> -
and not something intrinsic to the remote repository.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span></code> family of commands is used to set up and alter the remotes
associated with a repository. Here are some of the most useful ones:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code> lists all the remotes that are configured (we already used
this in the last section)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">[name]</span> <span class="pre">[url]</span></code> is used to add a new remote</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">remove</span> <span class="pre">[name]</span></code> removes a remote. Note that it doesn’t affect the
remote repository at all - it just removes the link to it from the local repo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">set-url</span> <span class="pre">[name]</span> <span class="pre">[newurl]</span></code> changes the URL that is associated
with the remote. This is useful if it has moved, e.g. to a different GitHub
account, or from GitHub to a different hosting service. Or, if we made a typo when
adding it!</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">rename</span> <span class="pre">[oldname]</span> <span class="pre">[newname]</span></code> changes the local alias by which a remote
is known - its name. For example, one could use this to change <code class="docutils literal notranslate"><span class="pre">upstream</span></code> to <code class="docutils literal notranslate"><span class="pre">fred</span></code>.</p></li>
</ul>
</div>
<p>To download the Collaborator’s changes from GitHub, the Owner now enters:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">remote: Enumerating objects: 4, done.</span>
<span class="go">remote: Counting objects: 100% (4/4), done.</span>
<span class="go">remote: Compressing objects: 100% (2/2), done.</span>
<span class="go">remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0</span>
<span class="go">Unpacking objects: 100% (3/3), done.</span>
<span class="go">From https://github.com/jh1889/planets</span>
<span class="go"> * branch            main     -&gt; FETCH_HEAD</span>
<span class="go">   9272da5..29aba7c  main     -&gt; origin/main</span>
<span class="go">Updating 9272da5..29aba7c</span>
<span class="go">Fast-forward</span>
<span class="go"> pluto.txt | 1 +</span>
<span class="go"> 1 file changed, 1 insertion(+)</span>
<span class="go"> create mode 100644 pluto.txt</span>
</pre></div>
</div>
<p>Now the three repositories (Owner’s local, Collaborator’s local, and Owner’s on
GitHub) are back in sync.</p>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>A Basic Collaborative Workflow</strong></p>
<p>In practice, it is good to be sure that you have an updated version of the
repository you are collaborating on, so you should <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> before making
our changes. The basic collaborative workflow would be:</p>
<ul class="simple">
<li><p>update your local repo with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">origin</span> <span class="pre">main</span></code>,</p></li>
<li><p>make your changes and stage them with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>,</p></li>
<li><p>commit your changes with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span></code>, and</p></li>
<li><p>upload the changes to GitHub with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">main</span></code></p></li>
</ul>
<p>It is better to make many commits with smaller changes rather than
of one commit with massive changes: small commits are easier to
read and review.</p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Switch Roles and Repeat</strong></p>
<p>Switch roles and repeat the whole process.</p>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Review Changes</strong></p>
<p>The Owner pushed commits to the repository without giving any information
to the Collaborator. How can the Collaborator find out what has changed with
command line? And on GitHub?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>On the command line, the Collaborator can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">origin</span> <span class="pre">main</span></code>
to get the remote changes into the local repository, but without merging
them. Then by running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">main</span> <span class="pre">origin/main</span></code> the Collaborator
will see the changes output in the terminal.</p>
<p>On GitHub, the Collaborator can go to the repository and click on
“commits” to view the most recent commits pushed to the repository.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Comment Changes in GitHub</strong></p>
<p>The Collaborator has some questions about one line change made by the Owner and
has some suggestions to propose.</p>
<p>With GitHub, it is possible to comment on the diff of a commit. Over the line of
code to comment, a blue comment icon appears to open a comment window.</p>
<p>The Collaborator posts her comments and suggestions using the GitHub interface.</p>
</div>
<dl class="simple">
<dt>:: youtube: lsEOUnM8WPo</dt><dd><dl class="field-list simple">
<dt class="field-odd">align<span class="colon">:</span></dt>
<dd class="field-odd"><p>center</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="conflict">
<h2>Conflict!<a class="headerlink" href="#conflict" title="Link to this heading">#</a></h2>
<p>As soon as people can work in parallel, they’ll likely step on each other’s
toes. This will even happen with a single person: if we are working on
a piece of software on both our laptop and a server in the lab, we could make
different changes to each copy. Version control helps us manage these
conflicts by giving us tools to resolve overlapping changes.</p>
<p>To see how we can resolve conflicts, we must first create one. The file
<code class="docutils literal notranslate"><span class="pre">mars.txt</span></code> currently looks like this in both partners’ copies of our <code class="docutils literal notranslate"><span class="pre">planets</span></code>
repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
</pre></div>
</div>
<p>Let’s add a line to the collaborator’s copy only:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>mars.txt
cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
<span class="go">This line added to one copy</span>
</pre></div>
</div>
<p>and then push the change to GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add a line in our home copy&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 5ae9631] Add a line in our home copy</span>
<span class="go"> 1 file changed, 1 insertion(+)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="k">done</span>.
Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Delta<span class="w"> </span>compression<span class="w"> </span>using<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">8</span><span class="w"> </span>threads
Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Writing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="m">331</span><span class="w"> </span>bytes<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">331</span>.00<span class="w"> </span>KiB/s,<span class="w"> </span><span class="k">done</span>.
Total<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">2</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
remote:<span class="w"> </span>Resolving<span class="w"> </span>deltas:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span>completed<span class="w"> </span>with<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="nb">local</span><span class="w"> </span>objects.
To<span class="w"> </span>https://github.com/jh1889/planets.git
<span class="w">   </span>29aba7c..dabb4c8<span class="w">  </span>main<span class="w"> </span>-&gt;<span class="w"> </span>main
</pre></div>
</div>
<p>Now let’s have the owner make a different change to their copy
<em>without</em> updating from GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nano<span class="w"> </span>mars.txt
cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
<span class="go">We added a different line in the other copy</span>
</pre></div>
</div>
<p>We can commit the change locally:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add a line in my copy&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 07ebc69] Add a line in my copy</span>
<span class="go"> 1 file changed, 1 insertion(+)</span>
</pre></div>
</div>
<p>but Git won’t let us push it to GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">To https://github.com/jh1889/planets.git</span>
<span class="go"> ! [rejected]        main -&gt; main (fetch first)</span>
<span class="go">error: failed to push some refs to &#39;https://github.com/jh1889/planets.git&#39;</span>
<span class="go">hint: Updates were rejected because the remote contains work that you do</span>
<span class="go">hint: not have locally. This is usually caused by another repository pushing</span>
<span class="go">hint: to the same ref. You may want to first integrate the remote changes</span>
<span class="go">hint: (e.g., &#39;git pull ...&#39;) before pushing again.</span>
<span class="go">hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.</span>
</pre></div>
</div>
<a class="reference external image-reference" href="../images/conflict.png"><img alt="The Conflicting Changes" src="_images/conflict.png" /></a>
<p>Git rejects the push because it detects that the remote repository has new updates that have not been
incorporated into the local branch. What we have to do is pull the changes from GitHub,
merge them into the copy we’re currently working in, and then push that.
Let’s start by pulling:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">remote: Enumerating objects: 5, done.</span>
<span class="go">remote: Counting objects: 100% (5/5), done.</span>
<span class="go">remote: Compressing objects: 100% (1/1), done.</span>
<span class="go">remote: Total 3 (delta 2), reused 3 (delta 2), pack-reused 0</span>
<span class="go">Unpacking objects: 100% (3/3), done.</span>
<span class="go">From https://github.com/jh1889/planets</span>
<span class="go"> * branch            main     -&gt; FETCH_HEAD</span>
<span class="go">    29aba7c..dabb4c8  main     -&gt; origin/main</span>
<span class="go">Auto-merging mars.txt</span>
<span class="go">CONFLICT (content): Merge conflict in mars.txt</span>
<span class="go">Automatic merge failed; fix conflicts and then commit the result.</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> command updates the local repository to include those
changes already included in the remote repository.
After the changes from remote branch have been fetched, Git detects that changes made to the local copy
overlap with those made to the remote repository, and therefore refuses to merge the two versions to
stop us from trampling on our previous work. The conflict is marked in
in the affected file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
<span class="go">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span>
<span class="go">We added a different line in the other copy</span>
<span class="go">=======</span>
<span class="go">This line added to one copy</span>
<span class="go">&gt;&gt;&gt;&gt;&gt;&gt;&gt; dabb4c8c450e8475aee9b14b4383acc99f42af1d</span>
</pre></div>
</div>
<p>Our change is preceded by <code class="docutils literal notranslate"><span class="pre">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="pre">HEAD</span></code>.
Git has then inserted <code class="docutils literal notranslate"><span class="pre">=======</span></code> as a separator between the conflicting changes
and marked the end of the content downloaded from GitHub with <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></code>.
(The string of letters and digits after that marker
identifies the commit we’ve just downloaded.)</p>
<p>It is now up to us to edit this file to remove these markers
and reconcile the changes.
We can do anything we want: keep the change made in the local repository, keep
the change made in the remote repository, write something new to replace both,
or get rid of the change entirely.
Let’s replace both so that the file looks like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>mars.txt
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Cold and dry, but everything is my favourite colour</span>
<span class="go">The two moons may be a problem for werewolves</span>
<span class="go">But the Mummy will appreciate the lack of humidity</span>
<span class="go">We removed the conflict on this line</span>
</pre></div>
</div>
<p>To finish merging, we add <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code> to the changes being made by the merge
and then commit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.txt
git<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">On branch main</span>
<span class="go">All conflicts fixed but you are still merging.</span>
<span class="go">  (use &quot;git commit&quot; to conclude merge)</span>

<span class="go">Changes to be committed:</span>

<span class="go">    modified:   mars.txt</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Merge changes from GitHub&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 2abf2b1] Merge changes from GitHub</span>
</pre></div>
</div>
<p>Now we can push our changes to GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Enumerating objects: 10, done.</span>
<span class="go">Counting objects: 100% (10/10), done.</span>
<span class="go">Delta compression using up to 8 threads</span>
<span class="go">Compressing objects: 100% (6/6), done.</span>
<span class="go">Writing objects: 100% (6/6), 645 bytes | 645.00 KiB/s, done.</span>
<span class="go">Total 6 (delta 4), reused 0 (delta 0)</span>
<span class="go">remote: Resolving deltas: 100% (4/4), completed with 2 local objects.</span>
<span class="go">To https://github.com/jh1889/planets.git</span>
<span class="go">   dabb4c8..2abf2b1  main -&gt; main</span>
</pre></div>
</div>
<p>Git keeps track of what we’ve merged with what,
so we don’t have to fix things by hand again
when the collaborator who made the first change pulls again:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">remote: Enumerating objects: 10, done.</span>
<span class="go">remote: Counting objects: 100% (10/10), done.</span>
<span class="go">remote: Compressing objects: 100% (2/2), done.</span>
<span class="go">remote: Total 6 (delta 4), reused 6 (delta 4), pack-reused 0</span>
<span class="go">Unpacking objects: 100% (6/6), done.</span>
<span class="go">From https://github.com/jh1889/planets</span>
<span class="go"> * branch            main     -&gt; FETCH_HEAD</span>
<span class="go">    dabb4c8..2abf2b1  main     -&gt; origin/main</span>
<span class="go">Updating dabb4c8..2abf2b1</span>
<span class="go">Fast-forward</span>
<span class="go"> mars.txt | 2 +-</span>
<span class="go"> 1 file changed, 1 insertion(+), 1 deletion(-)</span>
</pre></div>
</div>
<p>We get the merged file:</p>
<p>We don’t need to merge again because Git knows someone has already done that.</p>
<p>Git’s ability to resolve conflicts is very useful, but conflict resolution
costs time and effort, and can introduce errors if conflicts are not resolved
correctly. If you find yourself resolving a lot of conflicts in a project,
consider these technical approaches to reducing them:</p>
<ul class="simple">
<li><p>Pull from upstream more frequently, especially before starting new work</p></li>
<li><p>Use topic branches to segregate work, merging to main when complete</p></li>
<li><p>Make smaller more atomic commits</p></li>
<li><p>Where logically appropriate, break large files into smaller ones so that it is
less likely that two authors will alter the same file simultaneously</p></li>
</ul>
<p>Conflicts can also be minimized with project management strategies:</p>
<ul class="simple">
<li><p>Clarify who is responsible for what areas with your collaborators</p></li>
<li><p>Discuss what order tasks should be carried out in with your collaborators so
that tasks expected to change the same lines won’t be worked on simultaneously</p></li>
<li><p>If the conflicts are stylistic churn (e.g. tabs vs. spaces), establish a
project convention that is governing and use code style tools (e.g.
<code class="docutils literal notranslate"><span class="pre">htmltidy</span></code>, <code class="docutils literal notranslate"><span class="pre">perltidy</span></code>, <code class="docutils literal notranslate"><span class="pre">rubocop</span></code>, etc.) to enforce, if necessary</p></li>
</ul>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p><strong>Conflicts on non-text files</strong></p>
<p>What does Git do when there is a conflict in an image or some other non-text file
that is stored in version control?</p>
<p>Let’s try it. Suppose I takes a picture of Martian surface and
call it <code class="docutils literal notranslate"><span class="pre">mars.jpg</span></code>.</p>
<p>If you do not have an image file of Mars available, you can create
a dummy binary file like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>head<span class="w"> </span>-c<span class="w"> </span><span class="m">1024</span><span class="w"> </span>/dev/urandom<span class="w"> </span>&gt;<span class="w"> </span>mars.jpg
ls<span class="w"> </span>-lh<span class="w"> </span>mars.jpg
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">-rw-r--r-- 1 jh1889 57095 1.0K Mar  8 20:24 mars.jpg</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ls</span></code> shows us that this created a 1-kilobyte file. It is full of
random bytes read from the special file, <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code>.</p>
<p>Now, suppose I add <code class="docutils literal notranslate"><span class="pre">mars.jpg</span></code> to my repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>mars.jpg
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add picture of Martian surface&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 8e4115c] Add picture of Martian surface</span>
<span class="go"> 1 file changed, 0 insertions(+), 0 deletions(-)</span>
<span class="go"> create mode 100644 mars.jpg</span>
</pre></div>
</div>
<p>Suppose that someone else has added a similar picture in the meantime.
Here’s is a picture of the Martian sky, but it is <em>also</em> called <code class="docutils literal notranslate"><span class="pre">mars.jpg</span></code>.
When I try to push, I get a familiar message:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">To https://github.com/jh1889/planets.git</span>
<span class="go"> ! [rejected]        main -&gt; main (fetch first)</span>
<span class="go">error: failed to push some refs to &#39;https://github.com/jh1889/planets.git&#39;</span>
<span class="go">hint: Updates were rejected because the remote contains work that you do</span>
<span class="go">hint: not have locally. This is usually caused by another repository pushing</span>
<span class="go">hint: to the same ref. You may want to first integrate the remote changes</span>
<span class="go">hint: (e.g., &#39;git pull ...&#39;) before pushing again.</span>
<span class="go">hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.</span>
</pre></div>
</div>
<p>We’ve learned that we must pull first and resolve any conflicts:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<p>When there is a conflict on an image or other binary file, git prints
a message like this:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">remote: Counting objects: 3, done.</span>
<span class="go">remote: Compressing objects: 100% (3/3), done.</span>
<span class="go">remote: Total 3 (delta 0), reused 0 (delta 0)</span>
<span class="go">Unpacking objects: 100% (3/3), done.</span>
<span class="go">From https://github.com/jh1889/planets.git</span>
<span class="go"> * branch            main     -&gt; FETCH_HEAD</span>
<span class="go">   6a67967..439dc8c  main     -&gt; origin/main</span>
<span class="go">warning: Cannot merge binary files: mars.jpg (HEAD vs. 439dc8c08869c342438f6dc4a2b615b05b93c76e)</span>
<span class="go">Auto-merging mars.jpg</span>
<span class="go">CONFLICT (add/add): Merge conflict in mars.jpg</span>
<span class="go">Automatic merge failed; fix conflicts and then commit the result.</span>
</pre></div>
</div>
<p>The conflict message here is mostly the same as it was for <code class="docutils literal notranslate"><span class="pre">mars.txt</span></code>, but
there is one key additional line:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">warning: Cannot merge binary files: mars.jpg (HEAD vs. 439dc8c08869c342438f6dc4a2b615b05b93c76e)</span>
</pre></div>
</div>
<p>Git cannot automatically insert conflict markers into an image as it does
for text files. So, instead of editing the image file, we must check out
the version we want to keep. Then we can add and commit this version.</p>
<p>On the key line above, Git has conveniently given us commit identifiers
for the two versions of <code class="docutils literal notranslate"><span class="pre">mars.jpg</span></code>. My version is <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>, and my partner’s
version is <code class="docutils literal notranslate"><span class="pre">439dc8c0...</span></code>. If we want to use my version, we can use
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>HEAD<span class="w"> </span>mars.jpg
git<span class="w"> </span>add<span class="w"> </span>mars.jpg
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Use image of surface instead of sky&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 21032c3] Use image of surface instead of sky</span>
</pre></div>
</div>
<p>If instead we want to use my partner’s version, we can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> with
the other commit identifier, <code class="docutils literal notranslate"><span class="pre">439dc8c0</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>439dc8c0<span class="w"> </span>mars.jpg
git<span class="w"> </span>add<span class="w"> </span>mars.jpg
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Use image of sky instead of surface&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main da21b34] Use image of sky instead of surface</span>
</pre></div>
</div>
<p>We can also keep <em>both</em> images. The catch is that we cannot keep them
under the same name. But, we can check out each version in succession
and <em>rename</em> it, then add the renamed versions. First, check out each
image and rename it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>HEAD<span class="w"> </span>mars.jpg
git<span class="w"> </span>mv<span class="w"> </span>mars.jpg<span class="w"> </span>mars-surface.jpg
git<span class="w"> </span>checkout<span class="w"> </span>439dc8c0<span class="w"> </span>mars.jpg
mv<span class="w"> </span>mars.jpg<span class="w"> </span>mars-sky.jpg
</pre></div>
</div>
<p>Then, remove the old <code class="docutils literal notranslate"><span class="pre">mars.jpg</span></code> and add the two new files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>rm<span class="w"> </span>mars.jpg
git<span class="w"> </span>add<span class="w"> </span>mars-surface.jpg
git<span class="w"> </span>add<span class="w"> </span>mars-sky.jpg
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Use two images: surface and sky&quot;</span>
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[main 94ae08c] Use two images: surface and sky</span>
<span class="go"> 2 files changed, 0 insertions(+), 0 deletions(-)</span>
<span class="go"> create mode 100644 mars-sky.jpg</span>
<span class="go"> rename mars.jpg =&gt; mars-surface.jpg (100%)</span>
</pre></div>
</div>
<p>Now both images of Mars are checked into the repository, and <code class="docutils literal notranslate"><span class="pre">mars.jpg</span></code>
no longer exists.</p>
</div>
<div class="admonition-thought-exercise admonition">
<p class="admonition-title">Thought exercise</p>
<p><strong>A Typical Work Session</strong></p>
<p>You sit down at your computer to work on a shared project that is tracked in a
remote Git repository. During your work session, you take the following
actions, but not in this order:</p>
<ul class="simple">
<li><p><em>Make changes</em> by appending the number <code class="docutils literal notranslate"><span class="pre">100</span></code> to a text file <code class="docutils literal notranslate"><span class="pre">numbers.txt</span></code></p></li>
<li><p><em>Update remote</em> repository to match the local repository</p></li>
<li><p><em>Celebrate</em> your success with some fancy beverage(s)</p></li>
<li><p><em>Update local</em> repository to match the remote repository</p></li>
<li><p><em>Stage changes</em> to be committed</p></li>
<li><p><em>Commit changes</em> to the local repository</p></li>
</ul>
<p>In what order should you perform these actions to minimize the chances of
conflicts? Put the commands above in order in the <em>action</em> column of the table
below. When you have the order right, see if you can write the corresponding
commands in the <em>command</em> column. A few steps are populated to get you
started.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>order</p></th>
<th class="head"><p>action</p></th>
<th class="head"><p>command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">100</span> <span class="pre">&gt;&gt;</span> <span class="pre">numbers.txt</span></code></p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Celebrate!</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AFK</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>order</p></th>
<th class="head"><p>action</p></th>
<th class="head"><p>command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Update local</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">origin</span> <span class="pre">main</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Make changes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">100</span> <span class="pre">&gt;&gt;</span> <span class="pre">numbers.txt</span></code></p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Stage changes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">numbers.txt</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Commit changes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;Add</span> <span class="pre">100</span> <span class="pre">to</span> <span class="pre">numbers.txt&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Update remote</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">main</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Celebrate!</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AFK</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Issues.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Solving issues and debugging</p>
      </div>
    </a>
    <a class="right-next"
       href="Python2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Python: part 2</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-git">Setting up git</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#our-first-repository">Our first repository</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-files">Adding files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#git-history">Git history</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ignoring-files">Ignoring files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#github">Github</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-remote-repository">1. Creating a remote repository</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connect-local-to-remote-repository">2. Connect local to remote repository</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ssh-background-and-setup">3. SSH Background and Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#create-an-ssh-key-pair">3.1 Create an SSH key pair</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-the-public-key-to-github">3.2 Copy the public key to GitHub</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#push-local-changes-to-a-remote">4. Push local changes to a remote</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collaboration-with-git">Collaboration with Git</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conflict">Conflict!</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jon Hill
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, Jon Hill.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>