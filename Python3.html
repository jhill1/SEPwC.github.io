
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GPHGXML15W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GPHGXML15W');
    </script>
    
    <title>Python: part 3 &#8212; SEPwC  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Python3';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="R: part 3" href="R3.html" />
    <link rel="prev" title="R: part 2" href="R2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">SEPwC  documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_a_computer_works.html">How a computer works</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licences.html">Software licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_basics.html">The fundamentals of code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Algorithms.html">Thinking like a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python.html">Python: the fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="R.html">R: the fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="Issues.html">Solving issues and debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Revision_control.html">Revision control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python2.html">Python: part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="R2.html">R: part 2</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Python: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="R3.html">R: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="Spreadsheets_data.html">Moving from spreadsheets to data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Testing_code.html">Testing code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Software_development.html">Software development</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mini_courses.html">Mini-courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/jhill1/SEPwC.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Python3.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Python: part 3</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-objects">Python objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-datetimes">Python: Datetimes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-pandas-module">Python: Pandas module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-numpy">Python: Numpy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-namespace">Python: namespace</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-namespaces">The namespaces</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-scope">Python Scope</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="python-part-3">
<h1>Python: part 3<a class="headerlink" href="#python-part-3" title="Link to this heading">#</a></h1>
<section id="python-objects">
<h2>Python objects<a class="headerlink" href="#python-objects" title="Link to this heading">#</a></h2>
<p>We discussed objects back in <a class="reference internal" href="Code_basics.html#objects-and-classes"><span class="std std-ref">Objects and classes</span></a> which are containers for both
data and functions to manipulate that data.</p>
<p>Python has support for objects and almost everything in Python is actually an object. To
create your own object you must first create a <code class="docutils literal notranslate"><span class="pre">Class</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">variable</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">obj</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">variable</span><span class="p">)</span>
</pre></div>
</div>
<p>This is not a particularly useful object! All objects in python come with a special
function which is called when you make a new object: <code class="docutils literal notranslate"><span class="pre">__init__()</span></code>. This function
allows you to set up anything when a new object is made from you <code class="docutils literal notranslate"><span class="pre">Class</span></code>.</p>
<p>Let’s create the dog class we thought about previously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Dog</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">colour</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;clean&quot;</span>

    <span class="k">def</span> <span class="nf">bark</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof!&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">walkies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;muddy&quot;</span>

    <span class="k">def</span> <span class="nf">beCleaned</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;clean&quot;</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot; is already clean&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;muddy&quot;</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot; is now clean&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;clean&quot;</span>


<span class="n">wilf</span> <span class="o">=</span> <span class="n">Dog</span><span class="p">(</span><span class="s2">&quot;Wilf&quot;</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="s2">&quot;Brown&quot;</span><span class="p">)</span>
<span class="n">wilf</span><span class="o">.</span><span class="n">bark</span><span class="p">()</span>
<span class="n">wilf</span><span class="o">.</span><span class="n">walkies</span><span class="p">()</span>
<span class="n">wilf</span><span class="o">.</span><span class="n">state</span>
</pre></div>
</div>
<p>There are a few things here that are worth pointing out. First is the use of <code class="docutils literal notranslate"><span class="pre">self</span></code>. This is a variable
that is the current object; it has to be the first variable in any function within the class. This allows
the <code class="docutils literal notranslate"><span class="pre">wilf.bark()</span></code> to work as <code class="docutils literal notranslate"><span class="pre">wilf</span></code> is passed as the <code class="docutils literal notranslate"><span class="pre">self</span></code> variable.</p>
<p>One of the key things about classes is that they can inherit other classes. We can therefore
build complex stacks of classes using base classes. Let’s create a class for a Guide Dog:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GuideDog</span><span class="p">(</span><span class="n">Dog</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>This create a new class from the Dog class previously. It doesn’t add anything as yet, but we have
all of the variables and functions from the <code class="docutils literal notranslate"><span class="pre">Dog</span></code> class. We can add to or override any of these.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GuideDog</span><span class="p">(</span><span class="n">Dog</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">colour</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">colour</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">completed_training</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">bark</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Guide dogs don&#39;t bark&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">complete_trianing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">completed_traiing</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>So here we’ve added a new function <code class="docutils literal notranslate"><span class="pre">complete_trianing</span></code> and overridden the <code class="docutils literal notranslate"><span class="pre">bark</span></code> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">buddy</span><span class="o">=</span><span class="n">GuideDog</span><span class="p">(</span><span class="s2">&quot;Buddy&quot;</span><span class="p">,</span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="s2">&quot;tan&quot;</span><span class="p">)</span>
<span class="n">buddy</span><span class="o">.</span><span class="n">bark</span><span class="p">()</span>
</pre></div>
</div>
<p>There are a lot other features of objects in Python, but the main reason for learning about them here is that
most other modules/libraries in Python create objects of some kind. You therefore need to be familiar with the
idea of a varable, e.g. <code class="docutils literal notranslate"><span class="pre">buddy</span></code> being able to have a function to call using the <code class="docutils literal notranslate"><span class="pre">.</span></code> notation. When you see
this; you are dealing with an object.</p>
</section>
<section id="python-datetimes">
<h2>Python: Datetimes<a class="headerlink" href="#python-datetimes" title="Link to this heading">#</a></h2>
<p>Dates and time are a common aspect of environmental data. We often need to
crop date/times to a specific range and compare or take samples from our
data every <em>N</em> minutes, for example. Python comes with a datetime module
that helps us deal with these issues. It provides a variety of functions
to work out durations, samples and deal with leap years and timezones.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">now</span> <span class="o">=</span> <span class="n">dateime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">now</span><span class="p">)</span>
</pre></div>
</div>
<p>This prints the current date and time based on your computers clock:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">2024</span>-02-15<span class="w"> </span><span class="m">09</span>:07:34.636548
</pre></div>
</div>
<p>However, this has hidden a few things. Instead of placing the <code class="docutils literal notranslate"><span class="pre">now()</span></code> output
into a variable, print it directly using the console Python</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">165519</span><span class="p">)</span>
</pre></div>
</div>
<p>What <code class="docutils literal notranslate"><span class="pre">now()</span></code> gives us is a datetime object, which contains the year, month, day,
hour, minutes, seconds, and part-seconds. We can access these directly if we need to.
The <code class="docutils literal notranslate"><span class="pre">print</span></code> function actually creates a prettified string for the user.</p>
<p>The datetime class allows us to create an arbitrary date, time or datetime, rather than relying
on <code class="docutils literal notranslate"><span class="pre">now()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="c1"># year, month, date</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="c1"># hours, minutes, second</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">56</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

<span class="c1"># or more explicitly:</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">34</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">56</span><span class="p">)</span>

<span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">56</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

<span class="c1"># note the datetime.datetime as combine is a function on the datetime class</span>
<span class="c1"># not the the datetime module</span>

<span class="n">dt2</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>Representing dates and times as these object then allows calculations to be carried
out, for example, creating a duration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">date1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>
<span class="n">date2</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">date1</span> <span class="o">-</span> <span class="n">date2</span><span class="p">)</span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">date1</span><span class="o">-</span><span class="n">date2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">diff</span><span class="o">.</span><span class="n">total_second</span><span class="p">())</span>


<span class="c1"># what about leap years?</span>
<span class="n">date1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">29</span><span class="p">)</span>
<span class="n">date2</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">29</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">date1</span> <span class="o">-</span> <span class="n">date2</span><span class="p">)</span>
</pre></div>
</div>
<p>The datetime module knows about leap years, etc so can account for those in durations.</p>
<p>This all assumes that the datetime can be constructed from user input easily. Often we
need to parse a string to create a datetime object. For example out data might be a
CSV with dates listed as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">1984</span>-1-1-0,<span class="w"> </span><span class="m">480</span>
<span class="m">1984</span>-1-1-1,<span class="w"> </span><span class="m">510</span>
<span class="m">1984</span>-1-1-2,<span class="w"> </span><span class="m">580</span>
</pre></div>
</div>
<p>Here the date is represented by the year, month, day and then hour seperated by a hyphen.
There is no minute or second data.
We can use datetime’s <code class="docutils literal notranslate"><span class="pre">strptime()</span></code> method to parse these strings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">date_string</span> <span class="o">=</span> <span class="s2">&quot;1984-1-1-0&quot;</span>
<span class="n">date_object</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">-%H&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">date_object</span><span class="p">)</span>
</pre></div>
</div>
<p>There is also a function to print a datetime object into a specific format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H:%M:%S&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time:&quot;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>You can see the various formatting options <a class="reference external" href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior">here</a>.</p>
<p>The final bit of the datetime we need to know about are timezones. The UK has two timezones, GMT and BST
which occur in the winter and summer respecitvely. There is a Universal Time zone (UTC) which is
effectively GMT (but doesn’t shift in the UK summer!). The datetime object can handle
timezones and can convert times for you (and takes care of durations over different timezones!).
However, we need another python module <code class="docutils literal notranslate"><span class="pre">pytz</span></code> to handle the actual timezones.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># note I&#39;ve only import the datetime object, not the whole datetime module</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">pytz</span>

<span class="n">local</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Local:&quot;</span><span class="p">,</span> <span class="n">local</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%Y, %H:%M:%S&quot;</span><span class="p">))</span>


<span class="n">tz_NY</span> <span class="o">=</span> <span class="n">pytz</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s1">&#39;America/New_York&#39;</span><span class="p">)</span>
<span class="n">datetime_NY</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz_NY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NY:&quot;</span><span class="p">,</span> <span class="n">datetime_NY</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%Y, %H:%M:%S&quot;</span><span class="p">))</span>

<span class="n">tz_London</span> <span class="o">=</span> <span class="n">pytz</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s1">&#39;Europe/London&#39;</span><span class="p">)</span>
<span class="n">datetime_London</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz_London</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;London:&quot;</span><span class="p">,</span> <span class="n">datetime_London</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%Y, %H:%M:%S&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="python-pandas-module">
<h2>Python: Pandas module<a class="headerlink" href="#python-pandas-module" title="Link to this heading">#</a></h2>
</section>
<section id="python-numpy">
<h2>Python: Numpy<a class="headerlink" href="#python-numpy" title="Link to this heading">#</a></h2>
</section>
<section id="python-namespace">
<h2>Python: namespace<a class="headerlink" href="#python-namespace" title="Link to this heading">#</a></h2>
<p>Namespace and scope are the section of code where your variables are valid. A namespace
is a collection of currently defined symbolic names; basically a dictionary of variable
names pointing to the object in memory. There are several layers of namespaces in Python:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Built-in</p></li>
<li><p>Global</p></li>
<li><p>Enclosing</p></li>
<li><p>Local</p></li>
</ol>
</div></blockquote>
<p>These have different lifespans and Python handles the creation and deletion of the namesapces
as our code is executed.</p>
<section id="the-namespaces">
<h3>The namespaces<a class="headerlink" href="#the-namespaces" title="Link to this heading">#</a></h3>
<p>The built-in namespace contains all of Python’s built-in object which are
availabel everytime you run any Python. We can
look at this:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">__builtins__</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
<span class="p">[</span><span class="s1">&#39;ArithmeticError&#39;</span><span class="p">,</span>
 <span class="s1">&#39;AssertionError&#39;</span><span class="p">,</span>
 <span class="s1">&#39;AttributeError&#39;</span><span class="p">,</span>
 <span class="s1">&#39;BaseException&#39;</span><span class="p">,</span>
 <span class="s1">&#39;BlockingIOError&#39;</span><span class="p">,</span>
 <span class="s1">&#39;BrokenPipeError&#39;</span><span class="p">,</span>
 <span class="s1">&#39;BufferError&#39;</span><span class="p">,</span>
 <span class="o">...</span>
</pre></div>
</div>
<p>You can see things like error objects, <code class="docutils literal notranslate"><span class="pre">False</span></code> etc in the list generated, as well as built-in
functions like <code class="docutils literal notranslate"><span class="pre">len()</span></code>.</p>
<p>The global namespace is created at the main level of any python program. As soon as the main body of any
Python code is executed this namespace created. You may have more than one of these as <code class="docutils literal notranslate"><span class="pre">import</span></code>
statements create a global namespace for themselves. However, when you read <code class="docutils literal notranslate"><span class="pre">global</span></code> in terms if namespace
think of it as the one associated with your program.</p>
<p>Local and enclosing namespaces are like sub-namespaces when you create a function. The variables (and functions!)
created only exist within that function.</p>
</section>
<section id="python-scope">
<h3>Python Scope<a class="headerlink" href="#python-scope" title="Link to this heading">#</a></h3>
<p>These namespaces mean variables of the same name can exist at the same time. As long as they are
in a different namespace they won’t interfere with each other. But how does Python know which one
to use. This is the concept of scope.</p>
<p>Python looks for variables in the reverse order of the list above, so we will look
for a variable in:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Local</p></li>
<li><p>Enclosing</p></li>
<li><p>Global</p></li>
<li><p>Built-in</p></li>
</ol>
</div></blockquote>
<p>If you look for <code class="docutils literal notranslate"><span class="pre">max()</span></code> function, Python will look in the local, th enclosing, then global
then the built-in namespaces.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;global&quot;</span>

<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;enclosing&quot;</span>

    <span class="k">def</span> <span class="nf">func2</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="n">func2</span><span class="p">()</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Before you run this, what will be printed? Now let’s add another <code class="docutils literal notranslate"><span class="pre">x</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;global&quot;</span>

<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;enclosing&quot;</span>

    <span class="k">def</span> <span class="nf">func2</span><span class="p">():</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="n">func2</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>See if you can work out what will be printed this time. Our final exercise:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;enclosing&quot;</span>

    <span class="k">def</span> <span class="nf">func2</span><span class="p">():</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="n">func2</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>What ahppens this time? Did you use a fresh ipython or script?</p>
<p>So how do you modify variables that aren’t in the current scope?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">20</span>
<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">x</span></code> inside <code class="docutils literal notranslate"><span class="pre">func1</span></code> is a local reference. As <code class="docutils literal notranslate"><span class="pre">func1</span></code> exits that reference
is deleted. The <code class="docutils literal notranslate"><span class="pre">print(x)</span></code> then uses the <code class="docutils literal notranslate"><span class="pre">x</span></code> in the global namespace.</p>
<p>What if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a list and we try and modify it?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">41</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, both the global <em>and</em> <cite>local</cite> give the same answer. We’ve modified the global variable within
the function. However, if we create a list of the same variable name, we’ll have similar
behaviour to the previous example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>If we want <code class="docutils literal notranslate"><span class="pre">func1</span></code> to actually modify the global variable we have to tell Python explicitly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">x</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>If you create a global variable within a function it will be available to the global namesapce:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func1</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">x</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">func1</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>(run in a new ipython or as a script as <code class="docutils literal notranslate"><span class="pre">x</span></code> has already been created). Constructs such as <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">with</span></code>, etc
do not create scope.</p>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="R2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">R: part 2</p>
      </div>
    </a>
    <a class="right-next"
       href="R3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">R: part 3</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-objects">Python objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-datetimes">Python: Datetimes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-pandas-module">Python: Pandas module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-numpy">Python: Numpy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-namespace">Python: namespace</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-namespaces">The namespaces</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-scope">Python Scope</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jon Hill
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, Jon Hill.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>