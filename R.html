
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GPHGXML15W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GPHGXML15W');
    </script>
        <link href="_static/images/sepwc_logo.svg" rel="icon" type="image/svg+xml">
    <link href="https://raw.githubusercontent.com/jhill1/SEPwC/master/images/favicon-16x16.png" sizes="16x16" rel="icon" type="image/png">
    <link href="https://raw.githubusercontent.com/jhill1/SEPwC/master/images/favicon-32x32.png" sizes="32x32" rel="icon" type="image/png">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/jhill1/SEPwC/master/images/favicon-180x180.png" sizes="180x180" type="image/png">
    <title>R: the fundamentals &#8212; SEPwC  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'R';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Solving issues and debugging" href="Issues.html" />
    <link rel="prev" title="Python: the fundamentals" href="Python.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">SEPwC  documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="How_a_computer_works.html">How a computer works</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licences.html">Software licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_basics.html">The fundamentals of code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Algorithms.html">Thinking like a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python.html">Python: the fundamentals</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">R: the fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="Issues.html">Solving issues and debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Revision_control.html">Revision control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python2.html">Python: part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="R2.html">R: part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="Software_development.html">Software development</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_first_coding_exercise.html">Our first coding exercise</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python3.html">Python: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="R3.html">R: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="Spreadsheets_data.html">Moving from spreadsheets to data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Testing_code.html">Testing code</a></li>
<li class="toctree-l1"><a class="reference internal" href="R_ggplot2.html">Mini course: ggplot2 tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_plotting.html">Mini course: Pyplot tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sentiment_analysis.html">Mini course: Sentiment Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="tides_python.html">Mini course: Tidal analysis in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="GIS.html">Mini-course: GIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/jhill1/SEPwC.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/R.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>R: the fundamentals</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-tools-of-the-trade">R tools of the trade</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intro-to-r">Intro to R</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-loops">R Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-for-loops">R <code class="docutils literal notranslate"><span class="pre">for</span></code> Loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-while-loop">R <code class="docutils literal notranslate"><span class="pre">while</span></code> loop</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-conditionals">R conditionals</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-if-statement">R <code class="docutils literal notranslate"><span class="pre">if</span></code> statement</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-comments">R comments</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inline-comments-r">Inline comments (R)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#block-comments-r">Block comments (R)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-to-comment-r">What to comment (R)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-exercises">R Exercises</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="r-the-fundamentals">
<h1>R: the fundamentals<a class="headerlink" href="#r-the-fundamentals" title="Link to this heading">#</a></h1>
<p id="index-0">We’re now going to learn the basics of a language. If you’ve chosen
R, keep reading. If you’ve chosen Python <a class="reference internal" href="Python.html#python-the-fundamentals"><span class="std std-ref">go to this section</span></a>.</p>
<p>Computer languages are much simpler than natural languages, but much
stricter. We have to get the syntax correct or things won’t work. However
interpreted languages tell you what is wrong, so it’s not as bad as it sounds.</p>
<section id="r-tools-of-the-trade">
<h2>R tools of the trade<a class="headerlink" href="#r-tools-of-the-trade" title="Link to this heading">#</a></h2>
<p>On all systems, install the latest version of <a class="reference external" href="https://cran.r-project.org/doc/manuals/r-patched/R-admin.html">R</a>.</p>
<p><a class="reference external" href="https://posit.co/download/rstudio-desktop/">Rstudio</a> is also very useful on all systems. R is relatively simple to
keep up-to-date and install additional packages. Every so often it’s worth deleting packages installed in your home space
for older versions. There’s a brief introduction to <a class="reference internal" href="Software_development.html#rstudio"><span class="std std-ref">RStudio</span></a> in the <a class="reference internal" href="Software_development.html#software-development"><span class="std std-ref">Software development</span></a> section. It might be worth going there
and coming back here at this point.</p>
</section>
<section id="intro-to-r">
<h2>Intro to R<a class="headerlink" href="#intro-to-r" title="Link to this heading">#</a></h2>
<p id="index-1">R is an interpreted language that has become incredibly popular, but
was originally designed as a free, open-source version of “S”; a statistical
analysis package. Due to popularity, there are libraries that will do just about anything.
This makes R a really powerful tool for writing code to analyse any number of problems.</p>
<p>R can be run on the command line, in a popular GUI call R-Studio,
as a stand-alone script, even on websites. There are libraries
for fancy plotting (ggplot2), scientific algorithms (e.g. deSolve), AI (dnn) and GIS (r-gdal).</p>
<p>Let’s get a simple R code running!</p>
<p>We want to calculate the height of a ball after time, <span class="math notranslate nohighlight">\(t\)</span>, which we can do using this formula</p>
<div class="math notranslate nohighlight">
\[y(t) = v_{0}t- \frac{1}{2}gt^2\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(y(t)\)</span> is the height of the ball at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(v_0\)</span> is the initial velocity of tha ball (at <span class="math notranslate nohighlight">\(t=0\)</span>), and</p></li>
<li><p><span class="math notranslate nohighlight">\(g\)</span> is the acceleration due to gravity</p></li>
</ul>
</div></blockquote>
<p>Let’s work this out by hand for a ball thrown at 5 m/s, with <span class="math notranslate nohighlight">\(g=9.81\)</span>, at <span class="math notranslate nohighlight">\(t=0.5\)</span></p>
<p>We have:</p>
<div class="math notranslate nohighlight">
\[y = 5 \times 0.5 - (\frac{1}{2} \times 9.81 \times 0.5^2)\]</div>
<p>I get that to be:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}y = 2.5 - 1.22625\\y = 1.27375\end{aligned}\end{align} \]</div>
<p>using a calculator. So let’s do that in R:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id1" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="m">5</span><span class="o">*</span><span class="m">0.5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">0.5</span><span class="o">*</span><span class="m">9.81</span><span class="o">*</span><span class="m">0.5</span><span class="o">**</span><span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Great! Our first R code! Let’s build this up to use variables. Type the following code and execute:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id2" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">time</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0.5</span>
<span class="n">initial_velocity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">5</span>
<span class="n">gravity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">9.81</span>

<span class="n">vert_position</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">initial_velocity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="m">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">gravity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">time</span><span class="o">**</span><span class="m">2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">vert_position</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This code is, in essence, identical to the one above, but instead of <em>hard-coding</em> the numbers, we’ve used
variables. The formula is now written in good, descriptive variable names, using spaces and parentheses to
separate the terms for readability. Not that exciting yet. What if we want to calculate the height for a
bunch of times? Let’s add a loop!</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id3" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">times</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="m">0.2</span><span class="p">,</span><span class="w"> </span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="m">0.4</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="m">0.6</span><span class="p">,</span><span class="w"> </span><span class="m">0.7</span><span class="p">,</span><span class="w"> </span><span class="m">0.8</span><span class="p">,</span><span class="w"> </span><span class="m">0.9</span><span class="p">)</span>
<span class="n">initial_velocity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">5</span>
<span class="n">gravity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">9.81</span>

<span class="nf">for </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">times</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">vert_position</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">initial_velocity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="m">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">gravity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">time</span><span class="o">**</span><span class="m">2</span><span class="p">)</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">vert_position</span><span class="p">))</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>This is not the most elegant way to do this, but it works. You now have the height of the ball
at time 0 to 0.9 in steps of 0.1.</p>
<p>Shall we plot this?</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id4" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up the problem</span>
<span class="n">times</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="m">0.2</span><span class="p">,</span><span class="w"> </span><span class="m">0.3</span><span class="p">,</span><span class="w"> </span><span class="m">0.4</span><span class="p">,</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="m">0.6</span><span class="p">,</span><span class="w"> </span><span class="m">0.7</span><span class="p">,</span><span class="w"> </span><span class="m">0.8</span><span class="p">,</span><span class="w"> </span><span class="m">0.9</span><span class="p">)</span>
<span class="n">heights</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">()</span>
<span class="n">initial_velocity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
<span class="n">gravity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9.81</span>

<span class="c1"># loop through the times, calculating the height</span>
<span class="nf">for </span><span class="p">(</span><span class="n">time</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">times</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">vert_position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">initial_velocity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="m">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">gravity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">time</span><span class="o">**</span><span class="m">2</span><span class="p">)</span>
<span class="w">    </span><span class="n">heights</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">heights</span><span class="p">,</span><span class="n">vert_position</span><span class="p">)</span>
<span class="w"> </span><span class="p">}</span>

<span class="c1"># the times and heights are now stored, so we can plot</span>
<span class="nf">plot</span><span class="p">(</span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">heights</span><span class="p">)</span>
</pre></div>
</div>
</div>
<img alt="_images/R_ball_graph.png" src="_images/R_ball_graph.png" />
<p>That’s not bad for a few lines of code. You can’t publish that graph (axes labels without units, etc.), but for
your first R program I think that’s pretty good!</p>
<p>In the above we have used the following R features:</p>
<blockquote>
<div><ul class="simple">
<li><p>printing</p></li>
<li><p>comments</p></li>
<li><p>vectors</p></li>
<li><p>loops and list comprehension</p></li>
<li><p>very basic plotting</p></li>
<li><p>variable names</p></li>
</ul>
</div></blockquote>
<p>We’ve covered some of these in the pseudo-code chapter, so here we’re going to stick to the
R-specific parts and go through these in more detail.</p>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/6bU0paSFdXw" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
<section id="r-loops">
<h2>R Loops<a class="headerlink" href="#r-loops" title="Link to this heading">#</a></h2>
<p id="index-2">As we saw in the coding fundamentals, loops are a tool to iterate over
many “bits” of data, like rows or columns in a spreadsheet, a list of parameters,
or through time (as in the example above). They are therefore fundamental
to a lot of data analysis.</p>
<p>Suppose we want to make a table to convert Celsius to Fahrenheit:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">-20  -4.0</span>
<span class="go">-15   5.0</span>
<span class="go">-10  14.0</span>
<span class="go">-5  23.0</span>
<span class="go">0  32.0</span>
<span class="go">5  41.0</span>
<span class="go">10  50.0</span>
<span class="go">15  59.0</span>
<span class="go">20  68.0</span>
<span class="go">25  77.0</span>
<span class="go">30  86.0</span>
<span class="go">35  95.0</span>
<span class="go">40 104.0</span>
</pre></div>
</div>
<p>How do we write a program that prints out such a table? We know that</p>
<div class="math notranslate nohighlight">
\[F = \frac{9}{5}C + 32\]</div>
<p>and a single line in this table is:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id5" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-20</span>
<span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>We could therefore write:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id6" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-20</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-15</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-10</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-5</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">15</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">25</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">35</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">40</span><span class="p">;</span><span class="w"> </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span><span class="p">;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>This is error prone though. What if we make a typo (likely)? How would we know? Also this
is very boring and repetitive. The entire idea of writing code it to remove the
repetitive, boring stuff and let the computer do that work. This is where loops come in.</p>
<section id="r-for-loops">
<h3>R <code class="docutils literal notranslate"><span class="pre">for</span></code> Loops<a class="headerlink" href="#r-for-loops" title="Link to this heading">#</a></h3>
<p id="index-3"><code class="docutils literal notranslate"><span class="pre">for</span></code> loops work in Python using a control variable (the thing that increments each loop) and
an iterator (the thing we’re iterating over). This is a really powerful concept as
we can iterate over a list or a counter with the same construct. This is all
a bit abstract, so let’s do some examples.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id7" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span>
<span class="nf">for </span><span class="p">(</span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">my_list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The above creates a vector (of numbers) and then iterates over that list
with the control variable being the individual item in the list. You should
see the following:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[1] 1</span>
<span class="go">[1] 2</span>
<span class="go">[1] 3</span>
<span class="go">[1] 6</span>
<span class="go">[1] 7</span>
<span class="go">[1] 10</span>
</pre></div>
</div>
<p>The loop is made using the <code class="docutils literal notranslate"><span class="pre">for</span></code> command, which is then followed by the loop conditions
in parenthesis <code class="docutils literal notranslate"><span class="pre">(</span>&#160; <span class="pre">)</span></code>. The loop itself is delimited using curly braces <code class="docutils literal notranslate"><span class="pre">{</span>&#160; <span class="pre">}</span></code>. R doesn’t care
about indentation as long as the <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code> contains the statements within the loop. So this code
works just as well:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id8" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span>
<span class="w"> </span><span class="nf">for </span><span class="p">(</span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">my_list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="nf">print</span><span class="p">(</span><span class="n">item</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<p>But it not as readable! Remember, when writing code we are writing code for humans
to read it, rather than computer to execute it.</p>
<p>Going back to loops…we can also iterate over the list using a counter.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id9" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span>
<span class="nf">for </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="n">my_list</span><span class="p">),</span><span class="m">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The output will be identical to the above, but we’re accessing the list via the index
(here, the variable <code class="docutils literal notranslate"><span class="pre">i</span></code>). What does <code class="docutils literal notranslate"><span class="pre">i</span></code> do then? Let’s edit the code and find out.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id10" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span>
<span class="nf">for </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="n">my_list</span><span class="p">),</span><span class="m">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="go">5</span>
<span class="go">6</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">i</span></code> goes from 1 (R starts counting from 1, Python from 0) to the length of the list. The <code class="docutils literal notranslate"><span class="pre">seq</span></code> function
creates a list containing those numbers. So although this loops looks different to the first one we created,
it’s actually identical in terms of it’s construction.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">seq</span></code> function is <code class="docutils literal notranslate"><span class="pre">seq(start,</span> <span class="pre">stop,</span> <span class="pre">increment)</span></code>
which generates a list of integers: <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">start+increment</span></code>, <code class="docutils literal notranslate"><span class="pre">start+2*increment</span></code>, and so on up to, and including, <code class="docutils literal notranslate"><span class="pre">stop</span></code>.
We can also write <code class="docutils literal notranslate"><span class="pre">seq(stop)</span></code> as an abbreviation for <code class="docutils literal notranslate"><span class="pre">seq(1,</span> <span class="pre">stop,</span> <span class="pre">1)</span></code>, or <code class="docutils literal notranslate"><span class="pre">seq(start,stop)</span></code> to assume an increment
of 1.</p>
<p>For loops are a really useful way of doing the same thing to each item in a list.</p>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Writing our table for conversion using a ** ``for`` **loop?</strong></p>
<p>Write out the Fahrenheit to Celsius conversion table using a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id11" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">for </span><span class="p">(</span><span class="n">C</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">-20</span><span class="p">,</span><span class="m">40</span><span class="p">,</span><span class="m">5</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="bp">F</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This version uses the <code class="docutils literal notranslate"><span class="pre">seq</span></code> function to go from -20 to 40 in steps of 5
and calculates F, before printing C and F. Note the use of <code class="docutils literal notranslate"><span class="pre">paste</span></code> to join the
two numbers together on one line.</p>
</div>
<p>In a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop we always know how many times we should iterate that loop. What if we don’t know in advance?
R also has a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop which will keep going as long as some condition is true.</p>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/i98WjaITzNk" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
<section id="r-while-loop">
<h3>R <code class="docutils literal notranslate"><span class="pre">while</span></code> loop<a class="headerlink" href="#r-while-loop" title="Link to this heading">#</a></h3>
<p id="index-4">A while-loop executes repeatedly a set of statements as long as a boolean condition is <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id12" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nf">while </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="o">&lt;</span><span class="n">statement</span><span class="w"> </span><span class="m">1</span><span class="o">&gt;</span>
<span class="w">     </span><span class="o">&lt;</span><span class="n">statement</span><span class="w"> </span><span class="m">2</span><span class="o">&gt;</span>
<span class="w">     </span><span class="kc">...</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="o">&lt;</span><span class="n">first</span><span class="w"> </span><span class="n">statement</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loop</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<p>We can write code to do a simple counter:</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id13" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="w"> </span><span class="nf">while </span><span class="p">(</span><span class="n">counter</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
<span class="w">     </span><span class="nf">print</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>This will loop until the counter is greater than 10. So we will see:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[1] 1</span>
<span class="go">[1] 2</span>
<span class="go">[1] 3</span>
<span class="go">[1] 4</span>
<span class="go">[1] 5</span>
<span class="go">[1] 6</span>
<span class="go">[1] 7</span>
<span class="go">[1] 8</span>
<span class="go">[1] 9</span>
<span class="go">[1] 10</span>
<span class="go">[1] 11</span>
</pre></div>
</div>
<p>Note the counter started from 0 and the while loop kept going until it was <code class="docutils literal notranslate"><span class="pre">&gt;10</span></code>. The condition
can be any conditional statement, including key presses (but that requires some knowledge we don’t have yet).</p>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Writing our table for conversion using a</strong> <code class="docutils literal notranslate"><span class="pre">while</span></code> <strong>loop?</strong></p>
<p>Write out the Fahrenheit to Celsius conversion table using a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id14" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-20</span>
<span class="nf">while </span><span class="p">(</span><span class="n">C</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">40</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span><span class="o">/</span><span class="m">5</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
<span class="w">    </span><span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">5</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This is very easy to read an understand; especially the ending condition.</p>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/TqYuSD0RkME" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
</section>
<section id="r-conditionals">
<h2>R conditionals<a class="headerlink" href="#r-conditionals" title="Link to this heading">#</a></h2>
<p id="index-5">As we saw in the coding fundamentals, conditionals are a tool to make decisions
in code; they control the flow of code. We can make those decisions based on the state of the program at the time.</p>
<p>We want to inform the user if their climate is either a hot desert, arctic desert, temperate rainforest, or tropical
rainforest. We ask them to supply either a “high” or “low” temperature and either a “high” or “low” humidity.</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">You gave me: &quot;high&quot; temperature and &quot;high&quot; humidity.</span>

<span class="go">It&#39;s a tropical rainforest</span>
</pre></div>
</div>
<p>How do we write a program that prints out such a statement, based on that input? We know the following:</p>
<div class="pst-scrollable-table-container"><table class="table" id="id15">
<caption><span class="caption-text">Environments</span><a class="headerlink" href="#id15" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Temperature</p></th>
<th class="head"><p>Humidity</p></th>
<th class="head"><p>Environment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“high”</p></td>
<td><p>“high”</p></td>
<td><p>Tropical rainforest</p></td>
</tr>
<tr class="row-odd"><td><p>“high”</p></td>
<td><p>“low”</p></td>
<td><p>Hot desert</p></td>
</tr>
<tr class="row-even"><td><p>“low”</p></td>
<td><p>“high”</p></td>
<td><p>Temperate rainforest</p></td>
</tr>
<tr class="row-odd"><td><p>“low”</p></td>
<td><p>“low”</p></td>
<td><p>Arctic desert</p></td>
</tr>
</tbody>
</table>
</div>
<p>So we need to be able to make a decision, based on those the variables, temperature and humidity.
This is where <code class="docutils literal notranslate"><span class="pre">if</span></code> statements come in.</p>
<section id="r-if-statement">
<h3>R <code class="docutils literal notranslate"><span class="pre">if</span></code> statement<a class="headerlink" href="#r-if-statement" title="Link to this heading">#</a></h3>
<p id="index-6">The <code class="docutils literal notranslate"><span class="pre">if</span></code> statement consists of an <code class="docutils literal notranslate"><span class="pre">if</span></code> condition, followed by zero or more <code class="docutils literal notranslate"><span class="pre">else</span> <span class="pre">if</span></code> conditions. A final <code class="docutils literal notranslate"><span class="pre">else</span></code>
statement can be used to capture the situation where everything is <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>.
In general, we can put together multiple conditions. Only the first condition that is <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> is executed; so something like this (where <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">stuff</span> <span class="pre">&gt;</span></code> would be
replaced by actual code in real life).</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">if </span><span class="p">(</span><span class="n">condition1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">block</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">statements</span><span class="p">,</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">condition1</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="kc">TRUE</span><span class="o">&gt;</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">condition2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">block</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">statements</span><span class="p">,</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">condition1</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">condition2</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="kc">TRUE</span><span class="o">&gt;</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">condition3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">block</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">statements</span><span class="p">,</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">condition3</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="kc">TRUE</span><span class="o">&gt;</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">block</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">statements</span><span class="p">,</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="n">if</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="kc">FALSE</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="o">&lt;</span><span class="n">next</span><span class="w"> </span><span class="n">statement</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Let’s do one of the conditions of our table above.</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id16" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">humidity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;high&quot;</span>
<span class="n">temperature</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;high&quot;</span>

<span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Either temperate or tropical rainforest&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Here, we’ve check the value of humidity. If the value is “high”, the following is printed:</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a> <a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id17" title="Link to this code">#</a></div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[1] &quot;Either temperate or tropical rainforest&quot;</span>
</pre></div>
</div>
</div>
<p>If humidity is anything else (including “High”, “low”, “sweaty”), then nothing is printed.</p>
<p>Not the best of code, engineering-wise, but it will work. Try it out.</p>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Add an</strong> <code class="docutils literal notranslate"><span class="pre">else</span></code> <strong>block</strong></p>
<p>Amend the example below to add an <code class="docutils literal notranslate"><span class="pre">else</span></code> block to print something if humidity is not “high”</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id18" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">humidity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;HIGH&quot;</span>
<span class="n">temperature</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;high&quot;</span>

<span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Either temperate or tropical rainforest&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Don&#39;t understand &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">humidity</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Here, we’ve printed the message “Don’t understand “ with the value of humidity then printed,
so you should see:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[1] &quot;Don&#39;t understand HIGH&quot;</span>
</pre></div>
</div>
</div>
<p>We now need to do all combinations, with some logic to decide a few things. There are (as always!)
a number of ways of doing this. This is using <code class="docutils literal notranslate"><span class="pre">else</span> <span class="pre">if</span></code> and boolean operators:</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id19" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">humidity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;high&quot;</span>
<span class="n">temperature</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;high&quot;</span>

<span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Tropical rainforest&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Temperate rainforest&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Hot desert&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Arctic desert&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;I don&#39;t understand the inputs&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Temperature: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temperature</span><span class="p">))</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Humidity: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">humidity</span><span class="p">))</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Both should be &#39;high&#39; or &#39;low&#39;&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Here, we’ve used the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> operator (and) to check that <em>both</em> temperature and humidity are
set appropriately. If the user supplies anything other than “high” or “low” it should print
an message.</p>
<div class="toggle admonition">
<p class="admonition-title">Learn more</p>
<p>Note the error message we gave in the <code class="docutils literal notranslate"><span class="pre">else</span></code> block contains what the user
had supplied us with. It often helps to print out the variables in question
when you do the else like this. It helps you, the programmer, to debug and it helps
the user possibly see what to change to fix. Here, we’ve also told the user what they should be</p>
<p>In reality, these variable should be checked before hand and a more informative error message could
be given <em>before</em> any processing takes place. This code is so tiny that it makes no difference.</p>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/BVik22tUSwo" style="border: 0; height: 345px; width: 560px">
</iframe></div><p>The second way of working out the logic is by nested <code class="docutils literal notranslate"><span class="pre">if</span></code> statements. Here’s an example:</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id20" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">mark</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">71</span>

<span class="nf">if </span><span class="p">(</span><span class="n">mark</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">40</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">mark</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">if </span><span class="p">(</span><span class="n">mark</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">70</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;First!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">mark</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">60</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;2:i!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">mark</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">50</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;2:2.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;3rd&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">mark</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;This mark is too high.&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">mark</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;This mark is too low.&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Fail :(&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The above code will do the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>Is the mark between 40 and 100 (inclusive)?</p></li>
<li><dl class="simple">
<dt>if so…</dt><dd><ul>
<li><p>is the mark greater than or equal to 70? Print “First!” if so</p></li>
<li><p>if not, is it above 60?</p></li>
<li><p>if not, is it above 50</p></li>
<li><p>if not, print “3rd”</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>if not, check the mark isn’t more than 100</p></li>
<li><p>or less than 0</p></li>
<li><p>otherwise the mark is between 0 and 39 (inclusive), which is a fail mark.</p></li>
</ul>
</div></blockquote>
<p>Check you understand the flow of the code and note that the <code class="docutils literal notranslate"><span class="pre">if</span></code> statements are done in order, so
if the first one is <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>, <code class="docutils literal notranslate"><span class="pre">mark</span></code> must be less than 40 or greater than 100.</p>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Test the code</strong></p>
<p>Try the code above with different values of <code class="docutils literal notranslate"><span class="pre">mark</span></code>. Does it work as expected?</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>It should work for all floating point and integer values of mark. What if you set <code class="docutils literal notranslate"><span class="pre">mark</span> <span class="pre">=</span> <span class="pre">&quot;test&quot;</span></code>?
Then what does it do? You should see:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">[1] &quot;This mark is too high.&quot;</span>
</pre></div>
</div>
<p>which is because 100 is converted to a string by R to do the comparison. <code class="docutils literal notranslate"><span class="pre">test</span></code> is &gt; than “100” (“t” is
after “1” in the alphabet). You need to be careful of this when doing comparisons!</p>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/Czeh0-sUgtM" style="border: 0; height: 345px; width: 560px">
</iframe></div><p>Now you’ve seen nested <code class="docutils literal notranslate"><span class="pre">if</span></code> statements in action. Try the final practical exercise of this section.</p>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Nested</strong> <code class="docutils literal notranslate"><span class="pre">if</span></code> <strong>version</strong></p>
<p>Re-write the environment code using nested <code class="docutils literal notranslate"><span class="pre">if</span></code> statements</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>Your code should look something like the following:</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id21" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">humidity</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;high&quot;</span>
<span class="n">temperature</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;high&quot;</span>

<span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">if </span><span class="p">(</span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Tropical rainforest&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Temperate rainforest&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Didn&#39;t understand temperature &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temperature</span><span class="p">))</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">humidity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">if </span><span class="p">(</span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;high&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Hot desert&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">temperature</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Arctic desert&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Didn&#39;t understand temperature &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temperature</span><span class="p">))</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;I don&#39;t understand the humidity&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Humidity: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">humidity</span><span class="p">))</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Should be &#39;high&#39; or &#39;low&#39;&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The advantage here is we can have more nuanced error messages (relating to temperature or humidity, rather than both), but
there is repeated code and it might be harder to follow the logic. I prefer the previous version, but this works just fine.</p>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/Rnr3w7FJSbU" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
</section>
<section id="r-comments">
<h2>R comments<a class="headerlink" href="#r-comments" title="Link to this heading">#</a></h2>
<p id="index-7">All computer languages have some mechanisms to add text that is not part of the code
itself. These are called comments. The idea of these snippets of text are to provide
commentary to help someone (including future you) understand the code
that has been written.</p>
<p>R has a single way of adding comments, but can be used in two different ways;
inline comments and block comments.</p>
<section id="inline-comments-r">
<h3>Inline comments (R)<a class="headerlink" href="#inline-comments-r" title="Link to this heading">#</a></h3>
<p id="index-8">Inline comments occur within the line of code:</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id22" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="w">                 </span><span class="c1"># Increment x</span>
</pre></div>
</div>
</div>
<p>This style of comment should be avoided if possible. The above example is distracting
and unnecessary. It may sometimes be useful, for example:</p>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id23" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="w">                 </span><span class="c1"># account for boundary cell</span>
</pre></div>
</div>
</div>
<p>Here, the same style is used, but as the line of code is so short, as is the comment, this
may be preferable to the second style of comments</p>
</section>
<section id="block-comments-r">
<h3>Block comments (R)<a class="headerlink" href="#block-comments-r" title="Link to this heading">#</a></h3>
<p id="index-9">Block comments occupy one or more lines. In python they look like:</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id24" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="c1"># increment count to account for boundary cell</span>
<span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</div>
<p>Or if you want multiple lines:</p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id25" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="c1"># increment count to</span>
<span class="w"> </span><span class="c1"># account for boundary cell</span>
<span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</div>
</section>
<section id="what-to-comment-r">
<h3>What to comment (R)<a class="headerlink" href="#what-to-comment-r" title="Link to this heading">#</a></h3>
<p>The above tell you <em>how</em> to write a comment, but <em>what</em> should you comment? Comments need to
be useful for the people that come after you (including you) so they can understand the code better.
They should not simply repeat the code, nor be used to explain code that could have better variable names.
It’s often easier to say what <em>not</em> to do, so let’s head in that direction…</p>
<p>This is poor coding and commenting:</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id26" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># A dictionary of families who live in each city</span>
<span class="n">mydict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;York&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Powell&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Brantley&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Young&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="s">&quot;Stevenage&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Montgomery&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="s">&quot;Rotherham&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Hill&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">dict</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1"># For each city</span>
<span class="w">    </span><span class="nf">for </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">dict</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1"># If there are no families in the city</span>
<span class="w">        </span><span class="nf">if </span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1"># Say that there are no families</span>
<span class="w">            </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;None.&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">     </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The comments really help understand the code and the intentions, but there are
completely superfluous if the code was written well:</p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id27" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">families_by_city</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;York&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Powell&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Brantley&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Young&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="s">&quot;Stevenage&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Montgomery&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="s">&quot;Rotherham&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Hill&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">no_families</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">cities</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">for </span><span class="p">(</span><span class="n">city</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">cities</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">if </span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">cities</span><span class="p">[</span><span class="n">city</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;No families in&quot;</span><span class="p">,</span><span class="n">city</span><span class="p">))</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This code doesn’t need any comments now; the variable names make things a lot clearer. You
can’t compensate for poor style by adding comments…</p>
<p>You should also avoid comments that simply repeat the code:</p>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id28" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">return</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w">  </span><span class="c1"># Returns a</span>
</pre></div>
</div>
</div>
<p>That comments adds nothing to the understanding. If <code class="docutils literal notranslate"><span class="pre">a</span></code> was a proper variable name, e.g. <code class="docutils literal notranslate"><span class="pre">list_of_cells</span></code> then even adding a comment becomes somewhat
redundant. Add a block comment to the top of a function with details of the function and there is no need at all to comment the return statement.</p>
<p>The best hint for comments is to write them at the top of code blocks:</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id29" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># load in our layers. They have the same extents and resolution</span>
<span class="n">dem</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">raster</span><span class="p">(</span><span class="s">&#39;test_dem_clipped.tif&#39;</span><span class="p">)</span>
<span class="n">drainage</span><span class="w"> </span><span class="o">&lt;-</span><span class="nf">raster</span><span class="p">(</span><span class="s">&#39;test_rivers_buffer_utm_clipped.tif&#39;</span><span class="p">)</span>
<span class="n">landuse</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">raster</span><span class="p">(</span><span class="s">&#39;test_landcover_utm.tif&#39;</span><span class="p">)</span>
<span class="n">roads</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">raster</span><span class="p">(</span><span class="s">&#39;test_roads_buffer_utm_clipped.tif&#39;</span><span class="p">)</span>
<span class="n">faults</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">raster</span><span class="p">(</span><span class="s">&#39;test_faults_buffer_utm_clipped.tif&#39;</span><span class="p">)</span>

<span class="c1"># following Saha et al 2002</span>
<span class="c1"># we need: slope and roughness (their relative relief) from the DEM.</span>
<span class="n">slope</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">terrain</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span><span class="w"> </span><span class="n">opt</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;slope&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">unit</span><span class="o">=</span><span class="s">&#39;degrees&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">neighbours</span><span class="o">=</span><span class="m">8</span><span class="p">)</span>
<span class="n">roughness</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">terrain</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span><span class="w"> </span><span class="n">opt</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;roughness&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">unit</span><span class="o">=</span><span class="s">&#39;degrees&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">neighbours</span><span class="o">=</span><span class="m">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The code itself might not make perfect sense to someone new to the whole code, but the comment above helps orient them
if there some error in that part of the code. It also helps to explain <em>why</em> rather than the how in comments. The how
is in the code. The why is how it’s written.</p>
</section>
</section>
<section id="r-exercises">
<h2>R Exercises<a class="headerlink" href="#r-exercises" title="Link to this heading">#</a></h2>
<p>Try the following exercises. For any of the exercises, feel free to type out the code and try it for real first, or figure out and see if you were right.</p>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Will the code below work?</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id30" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">45</span>
<span class="n">name</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;Fred&quot;</span>

<span class="nf">if </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;You have a great name,&quot;</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">&quot;!&quot;</span><span class="p">))</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Numbers are greater&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>Yes! In R, the number is “coerced” into a string for comparison. You then end up
doing string comparisons. This is something to watch out for in R. R will do this
coercion for most datatypes and hence can introduce bugs if you’re not careful.</p>
</div>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>What is printed here?</p>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id31" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">15</span>

<span class="nf">for </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">13</span><span class="p">,</span><span class="n">limit</span><span class="p">,</span><span class="m">2</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>The numbers 13 and 15 are printed. The range goes in steps of 2 so we have i = 13, then 15. The sequence
then stops at 15 inclusive.</p>
</div>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>What is printed here?</p>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id32" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">for </span><span class="p">(</span><span class="n">C</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">-20</span><span class="p">,</span><span class="m">41</span><span class="p">,</span><span class="m">5</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9.0</span><span class="o">/</span><span class="m">5.0</span><span class="o">*</span><span class="n">C</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="bp">F</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>This one is tricky! What is printed are the last values of the loop, so “40   104.0”. The print
statement is outside the loop, so is only run when the loop is finished.</p>
</div>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Write a program to convert some old data in square feet to SI units (metres squared).
1 foot = 0.3048 metres. So 1 foot squared is 0.092903 metres squared.</p>
<p>Out data goes from 2 ft sq to 20 ft sq in steps of 2, inclusive. Print your conversions.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id33" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">conversion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.092903</span>
<span class="nf">for </span><span class="p">(</span><span class="n">sqft</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">20</span><span class="p">,</span><span class="m">2</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sqm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sqft</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">conversion</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">sqft</span><span class="p">,</span><span class="w"> </span><span class="n">sqm</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/nCuVHnMHRYk" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Python.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Python: the fundamentals</p>
      </div>
    </a>
    <a class="right-next"
       href="Issues.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Solving issues and debugging</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-tools-of-the-trade">R tools of the trade</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intro-to-r">Intro to R</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-loops">R Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-for-loops">R <code class="docutils literal notranslate"><span class="pre">for</span></code> Loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-while-loop">R <code class="docutils literal notranslate"><span class="pre">while</span></code> loop</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-conditionals">R conditionals</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-if-statement">R <code class="docutils literal notranslate"><span class="pre">if</span></code> statement</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-comments">R comments</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inline-comments-r">Inline comments (R)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#block-comments-r">Block comments (R)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-to-comment-r">What to comment (R)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-exercises">R Exercises</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jon Hill
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Jon Hill.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>