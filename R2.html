
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GPHGXML15W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GPHGXML15W');
    </script>
        <link href="_static/images/sepwc_logo.svg" rel="icon" type="image/svg+xml">
    <link href="https://raw.githubusercontent.com/jhill1/SEPwC/master/images/favicon-16x16.png" sizes="16x16" rel="icon" type="image/png">
    <link href="https://raw.githubusercontent.com/jhill1/SEPwC/master/images/favicon-32x32.png" sizes="32x32" rel="icon" type="image/png">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/jhill1/SEPwC/master/images/favicon-180x180.png" sizes="180x180" type="image/png">
    <title>R: part 2 &#8212; SEPwC  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'R2';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Python: part 3" href="Python3.html" />
    <link rel="prev" title="Python: part 2" href="Python2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">SEPwC  documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="How_a_computer_works.html">How a computer works</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licences.html">Software licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_basics.html">The fundamentals of code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Algorithms.html">Thinking like a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python.html">Python: the fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="R.html">R: the fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="Issues.html">Solving issues and debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Revision_control.html">Revision control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python2.html">Python: part 2</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">R: part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python3.html">Python: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="R3.html">R: part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="Spreadsheets_data.html">Moving from spreadsheets to data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Testing_code.html">Testing code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Software_development.html">Software development</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mini_courses.html">Mini-courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/jhill1/SEPwC.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/R2.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>R: part 2</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-functions">R functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-r-function">Using a R function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-your-own-r-functions">Writing your own R functions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#function-arguments-in-r">Function arguments in R</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-libraries">R libraries</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-libraries">Loading libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sourcing-other-code">Sourcing other code</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-dictionaries">R dictionaries</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#looping-with-dictionaries">Looping with dictionaries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-tricks-with-r-dictionaries">Some useful tricks with R dictionaries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-files">R: files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-and-write-tables-csv-files">Read and write tables/csv files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-command-line-arguments">R command line arguments</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-and-the-command-line">R and the command line</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-advanced-command-line-interface">R advanced command line interface</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-input-from-a-user-in-r">Getting input from a user in R</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-exercises-2">R Exercises 2</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="r-part-2">
<h1>R: part 2<a class="headerlink" href="#r-part-2" title="Link to this heading">#</a></h1>
<section id="r-functions">
<h2>R functions<a class="headerlink" href="#r-functions" title="Link to this heading">#</a></h2>
<p id="index-0">Functions are blocks of code that can be called frequently. Rather than copy and paste the same block of
code which is identical apart from a single variable you can instead create a function.</p>
<p>You pass data to a function in the form of parameters and it returns a result or performs a task successfully.</p>
<section id="using-a-r-function">
<h3>Using a R function<a class="headerlink" href="#using-a-r-function" title="Link to this heading">#</a></h3>
<p>We’ve used a number of R functions already.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id1" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">vert_position</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>The first thing to note is that a function is called with <cite>()</cite> parentheses. Sometimes it gives back
a value (called “returning a value”), sometimes it does not. Sometimes there are things in between the
parentheses, sometimes not (these things are called “arguments”).</p>
<p>So using, or calling, a R function is easy. Give the function name, open the brackets, add any arguments you need (separated by commas),
close your brackets, if you are expecting a number back, store it:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id2" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">return_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">function_name</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>As we’ve seen already you can nest functions within other functions!</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id3" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;hola&quot;</span><span class="p">,</span><span class="nf">length</span><span class="p">(</span><span class="n">my_list</span><span class="p">),</span><span class="s">&quot;long&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Here, we’re calling the <cite>print</cite> function to print out the result of the <code class="docutils literal notranslate"><span class="pre">paste</span></code> function, which pastes together a string, the <code class="docutils literal notranslate"><span class="pre">length</span></code> of a list
and another string. Three functions nested within each ohter. This is equivalent of:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id4" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">len</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
<span class="n">message</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;hola&quot;</span><span class="p">,</span><span class="n">len</span><span class="p">,</span><span class="s">&quot;long&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p><strong>Nested functions</strong></p>
<blockquote>
<div><p>Write a single line of code to print the <code class="docutils literal notranslate"><span class="pre">log10</span></code> of a 1000</p>
</div></blockquote>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id5" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="nf">log10</span><span class="p">(</span><span class="m">1000</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>We call the <cite>log10()</cite> function inside of the <cite>print()</cite> function.</p>
</div>
<div class="video_wrapper align-center" style="text-align: center">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/qMV817flI4w" style="border: 0; height: 345px; width: 560px">
</iframe></div></section>
<section id="writing-your-own-r-functions">
<h3>Writing your own R functions<a class="headerlink" href="#writing-your-own-r-functions" title="Link to this heading">#</a></h3>
<p>Whilst it’s all well and good to use functions, you will need to write them too. R allows you to create your own functions</p>
<p>They follow this pattern:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id6" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">print_hello</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The name of of the function above is <code class="docutils literal notranslate"><span class="pre">print_hello</span></code>. The function keyword tells R this is a function and the content between the <code class="docutils literal notranslate"><span class="pre">{</span>&#160;&#160; <span class="pre">}</span></code> is the function body.</p>
<p>We can then call this function in out main code:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id7" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">my_function</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="nf">my_function</span><span class="p">()</span><span class="w"> </span><span class="c1"># call the function named my_function</span>
</pre></div>
</div>
</div>
<p>We type the name of the function, followed by parentheses.</p>
<p>Functions are useful when we can pass data into them. We do this via arguments:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id8" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">greetings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Hello &quot;</span><span class="p">,</span><span class="n">fname</span><span class="p">,</span><span class="s">&quot;!&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="nf">greetings</span><span class="p">(</span><span class="s">&quot;Hughie&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="nf">greetings</span><span class="p">(</span><span class="s">&quot;Louie&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="nf">greetings</span><span class="p">(</span><span class="s">&quot;Dewie&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Rather than staying abstract, let’s do something more concrete. Let’s write a function to convert from Centigrade to Farenheit.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id9" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">toFahrenheit</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">Centigrade</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9.0</span><span class="o">/</span><span class="m">5.0</span><span class="o">*</span><span class="n">Centigrade</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32.0</span>

<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="bp">F</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This function takes a value (Centigrade) and converts it to Fahrenheit, returning that number. We would use it something like this:</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id10" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">toFahrenheit</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">Centigrade</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="bp">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9.0</span><span class="o">/</span><span class="m">5.0</span><span class="o">*</span><span class="n">Centigrade</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">32.0</span>

<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="bp">F</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># store the number</span>
<span class="n">water_freezing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">toFahrenheit</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>

<span class="c1"># nested functions to print it</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;Water freezes at &quot;</span><span class="p">,</span><span class="nf">toFahrenheit</span><span class="p">(</span><span class="m">0</span><span class="p">),</span><span class="s">&quot; deg F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="function-arguments-in-r">
<h4>Function arguments in R<a class="headerlink" href="#function-arguments-in-r" title="Link to this heading">#</a></h4>
<p id="index-1">A function can take any number of inputs via arguments. You can even specify an unknown number of arguments</p>
<p>Above we used a keyword argument, which gave us the variable name inside the function. Here is an example where the function takes
two keyword arguments:</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id11" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">print_greeting</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">greeting</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">greeting</span><span class="p">,</span><span class="s">&quot;, &quot;</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">&quot;!&quot;</span><span class="p">))</span>

<span class="w"> </span><span class="p">}</span>

<span class="nf">print_greeting</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Bryan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>You can see that by specifying two arguments in the function declaration we have access to those values inside the function.
What happens if the user supplies only a single argument, not two as we’ve asked? Try the code below:</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id12" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">print_greeting</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">greeting</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">greeting</span><span class="p">,</span><span class="s">&quot;, &quot;</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">&quot;!&quot;</span><span class="p">))</span>

<span class="w"> </span><span class="p">}</span>

<span class="nf">print_greeting</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>What error message did you get?</p>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id13" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">print_greeting</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">:</span>
<span class="n">argument</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">missing</span><span class="p">,</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">default</span>
</pre></div>
</div>
</div>
</div>
<p>We can also write function that have default values.</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id14" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">print_greeting</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="o">=</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">greeting</span><span class="p">,</span><span class="s">&quot;, &quot;</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">&quot;!&quot;</span><span class="p">))</span>

<span class="w"> </span><span class="p">}</span>

<span class="nf">print_greeting</span><span class="p">(</span><span class="s">&quot;Bryan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>When running this, we can give the <code class="docutils literal notranslate"><span class="pre">name</span></code> argument and we get a default <code class="docutils literal notranslate"><span class="pre">greeting</span></code>. We could also set the <code class="docutils literal notranslate"><span class="pre">greeting</span></code> ourselves:</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id15" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">print_greeting</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="o">=</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">greeting</span><span class="p">,</span><span class="s">&quot;, &quot;</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">&quot;!&quot;</span><span class="p">))</span>
<span class="w"> </span><span class="p">}</span>

<span class="nf">print_greeting</span><span class="p">(</span><span class="s">&quot;Bryan&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ey-up&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>However, you may note I’ve switched the order of the arguments around. What happens if we didn’t?</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id16" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">print_greeting</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">greeting</span><span class="o">=</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">greeting</span><span class="p">,</span><span class="s">&quot;, &quot;</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="s">&quot;!&quot;</span><span class="p">))</span>

<span class="w"> </span><span class="p">}</span>

<span class="nf">print_greeting</span><span class="p">(</span><span class="s">&quot;Bryan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a> <a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id17" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">print_greeting</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">:</span>
<span class="n">argument</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">missing</span><span class="p">,</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">default</span>
</pre></div>
</div>
</div>
</div>
<p>R tells us that we have forgotten to give an argument as <code class="docutils literal notranslate"><span class="pre">name</span></code> is missing.</p>
</section>
</section>
</section>
<section id="r-libraries">
<h2>R libraries<a class="headerlink" href="#r-libraries" title="Link to this heading">#</a></h2>
<p id="index-2">When writing code we want to package up functionality/code into discrete bundles. In R these are called libraries or packages.
You can then put this library on the internet such that other can download, install it and use it. You can also save your own code
this way and use it in other code you write.</p>
<p>We’re not going to get into creating your own R package/module here, but we will use R libraries a lot, so we will focus on using
libraries, rather than creating them.</p>
<section id="loading-libraries">
<h3>Loading libraries<a class="headerlink" href="#loading-libraries" title="Link to this heading">#</a></h3>
<p>Libraries are loaded via either the <code class="docutils literal notranslate"><span class="pre">library</span></code> or <code class="docutils literal notranslate"><span class="pre">require</span></code> functions.</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id18" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>will load the ggplot2 library and namespace into your current code. It will also load any other libraries that are required. If the library cannot be found, the code will stop executing.</p>
<p>R then allows you to call any functions within that library. Technically R does a search for functions so you may have two functions of the same name (e.g. <code class="docutils literal notranslate"><span class="pre">sum()</span></code>) so R has syntax to make sure it uses the correct one; the <code class="docutils literal notranslate"><span class="pre">::</span></code> notation. For example both <code class="docutils literal notranslate"><span class="pre">dplyr</span></code> and <code class="docutils literal notranslate"><span class="pre">base</span></code> contain a function <code class="docutils literal notranslate"><span class="pre">intersect()</span></code>. To make sure you call the correct one:</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id19" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>

<span class="n">dplyr</span><span class="o">::</span><span class="nf">intersect</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>This can be good practice throughout your code, but requires some care and attention.</p>
</section>
<section id="sourcing-other-code">
<h3>Sourcing other code<a class="headerlink" href="#sourcing-other-code" title="Link to this heading">#</a></h3>
<p>You can also include the contents of another script directly into your own using the <code class="docutils literal notranslate"><span class="pre">source</span></code> function.</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id20" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">source</span><span class="p">(</span><span class="s">&quot;common_funcs.R&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>would load the contents of a files “common_funcs.R” into the current environment. R assumes this script is in the current directory.</p>
<p>This can allow you to build a library of common functions, but not make them into a full package. Unlike the <code class="docutils literal notranslate"><span class="pre">library()</span></code> function this does not allow you to use namespaces to separate out functions or variables.</p>
</section>
</section>
<section id="r-dictionaries">
<h2>R dictionaries<a class="headerlink" href="#r-dictionaries" title="Link to this heading">#</a></h2>
<p id="index-3">Dictionaries are linked lists; rather than accessing items via a numerical index, you access via a <code class="docutils literal notranslate"><span class="pre">key</span></code>. A dictionary therefore contains a list of keys and a list of corresponding values. The keys have to be unique, but the values do not.</p>
<p>R doesn’t have a built-in dictionary datatype, <em>but</em> vectors, matrices, lists etc can behave like dictionaries.</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">telephone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;Bob&#39;</span><span class="o">=</span><span class="m">3452345</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Mildred&#39;</span><span class="o">=</span><span class="m">532354</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then access using the keys, much like in a list:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">telephone</span><span class="p">[</span><span class="s">&#39;Bob&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>You can add to a dictionary by using the <code class="docutils literal notranslate"><span class="pre">[]</span></code> notation:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">telephone</span><span class="p">[</span><span class="s">&#39;Grenville&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">435353</span>
<span class="nf">print</span><span class="p">(</span><span class="n">telelphone</span><span class="p">)</span>
</pre></div>
</div>
<p>To check if a key is used in a dictionary, you can use the <code class="docutils literal notranslate"><span class="pre">%in%</span></code> keyword. However, R will look in the <code class="docutils literal notranslate"><span class="pre">values</span></code> by default, so we have to tell it to look in the <code class="docutils literal notranslate"><span class="pre">names()</span></code>:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="s">&#39;Bob&#39;</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">telephone</span><span class="p">)</span>
<span class="s">&#39;Jack&#39;</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">telephone</span><span class="p">)</span>
</pre></div>
</div>
<section id="looping-with-dictionaries">
<h3>Looping with dictionaries<a class="headerlink" href="#looping-with-dictionaries" title="Link to this heading">#</a></h3>
<p>Like lists, dictionaries are at their most powerful in loops. Also like lists there are a number of ways of looping over them. You can loop as you would a vector:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">knights</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;gallahad&#39;</span><span class="o">=</span><span class="s">&#39;the pure&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;robin&#39;</span><span class="o">=</span><span class="s">&#39;the brave&#39;</span><span class="p">)</span>
<span class="nf">for </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">knights</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>which loops over the values. If we want to loop over the keys:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">knights</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;gallahad&#39;</span><span class="o">=</span><span class="s">&#39;the pure&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;robin&#39;</span><span class="o">=</span><span class="s">&#39;the brave&#39;</span><span class="p">)</span>
<span class="nf">for </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">knights</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">knights</span><span class="p">[</span><span class="n">k</span><span class="p">]))</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="some-useful-tricks-with-r-dictionaries">
<h3>Some useful tricks with R dictionaries<a class="headerlink" href="#some-useful-tricks-with-r-dictionaries" title="Link to this heading">#</a></h3>
<p>Because R doesn’t have built in dictionaries, it’s a bit cumbersome to
delete items and manipulate a dictionary in place. You often find yourself
reassigning the dictionary to the same variable. For example:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">telephone</span><span class="p">[</span><span class="nf">names</span><span class="p">(</span><span class="n">telephone</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;Grenville&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Gives the <cite>telephone</cite> dictionary without <cite>“Grenville”</cite>. To make that change permanaent,
you reassign the output back into telephone:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">telephone</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">telephone</span><span class="p">[</span><span class="nf">names</span><span class="p">(</span><span class="n">telephone</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;Grenville&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>If any code you write makes extensive use of dictionaries, it is worth writing little
helper functions to do this so you code is cleaner.</p>
<p>R does have libraries that make proper dictionaries. <cite>hash</cite> is one such library.
If you are making heavy use of dictionaries, it may be better to use that library instead!</p>
<div class="admonition-practical-exercise-capital-cities admonition">
<p class="admonition-title">Practical exercise - capital cities</p>
<p>Create a dictionary that holds a country as the key, and the capital
city as the value, e.g. Germany - Berlin, UK - London.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">capitals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;Germany&quot;</span><span class="o">=</span><span class="s">&quot;Berlin&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;UK&quot;</span><span class="o">=</span><span class="s">&quot;London&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;USA&quot;</span><span class="o">=</span><span class="s">&quot;Washington DC&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;France&quot;</span><span class="o">=</span><span class="s">&quot;Paris&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;Burkina Faso&quot;</span><span class="o">=</span><span class="s">&quot;Ouagadougou&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition-practical-exercise-capital-cities-add admonition">
<p class="admonition-title">Practical exercise - capital cities: add</p>
<p>Add more countries to your list, without creating a new variable.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">capitals</span><span class="p">[</span><span class="s">&quot;Italy&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;Rome&quot;</span>
<span class="n">capitals</span><span class="p">[</span><span class="s">&quot;Mexico&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;Mexico City&quot;</span>
</pre></div>
</div>
</div>
<div class="admonition-practical-exercise-capital-cities-delete admonition">
<p class="admonition-title">Practical exercise - capital cities: delete</p>
<p>Remove the UK from the list. You may have to search the internet to find the answer to this one!</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">capitals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">capitals</span><span class="p">[</span><span class="nf">names</span><span class="p">(</span><span class="n">capitals</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;UK&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="admonition-practical-exercise-capital-cities-edit admonition">
<p class="admonition-title">Practical exercise - capital cities: edit</p>
<p>Edit the value for one of your capitals. Ouagadougou is also known as Wagadugu</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">capitals</span><span class="p">[</span><span class="s">&quot;Burkina Faso&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;Wagadugu&quot;</span>
</pre></div>
</div>
</div>
<div class="admonition-practical-exercise-capital-cities-functions admonition">
<p class="admonition-title">Practical exercise - capital cities: functions</p>
<p>Find out how you might do the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>Check if a key exists in a dictionary</p></li>
<li><p>Check the length of a dictionary</p></li>
<li><p>Create a copy of a dictionary</p></li>
<li><p>Clear a dictionary</p></li>
</ul>
</div></blockquote>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="s">&#39;UK&#39;</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">capitals</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">capitals</span><span class="p">))</span>

<span class="n">capitals_mkII</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">capitals</span>

<span class="n">capitals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">NULL</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="r-files">
<h2>R: files<a class="headerlink" href="#r-files" title="Link to this heading">#</a></h2>
<p id="index-4">Writing software for scientific/research purposes often invovles reading in
data from files. R file handling is very powerful, but surprisingly
easy to use and manage, but there are a lot of overlapping functions
that do very similar things.</p>
<p>Files in computing have a very long history and there’s a lot of baggage
carried over from this history. Some of this creeps into the jargon
we end up using. First, there’s the two main types of files
we will come across: text and binary. R handles these two
types of file differently. When it comes to text files there are special
characters at the end of each line for a EOL or End of Line.</p>
<p>From these two file types, all the other files you may come across then
come into being. We’ll learn a lot more in the data section.</p>
<section id="read-and-write-tables-csv-files">
<h3>Read and write tables/csv files<a class="headerlink" href="#read-and-write-tables-csv-files" title="Link to this heading">#</a></h3>
<p>Most of the time when using R you end up reading data from CSV
(Comma Separated Values) or tables (the same as CSV, but separated by
something other than a comma!). The syntax for these function is very similar.</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id21" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">&lt;-</span><span class="nf">read.table</span><span class="p">(</span><span class="s">&quot;data.txt&quot;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">data</span><span class="o">&lt;-</span><span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;data.txt&quot;</span><span class="p">,</span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Those two lines of code produce identical results. The <cite>read.csv</cite> has
the separator (<cite>sep=</cite>) set to <cite>,</cite> by default. In <cite>read.table</cite> we specify
it. In other words <cite>read.table</cite> is more flexible in reading in data as it
can read in data separated by spaces, semi-colons, pipes, etc. Both
functions return a data frame object (we’ll learn more on this later),
with the columns labelled by the headers.</p>
<p>Similarly if we have data in a variable, we can get R to write this out
in a CSV or table, easily:</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id22" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">write.csv</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">file</span><span class="o">=</span><span class="s">&#39;new_file.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">df</span></code> is your data frame which contains the data, with the filename
given by the <code class="docutils literal notranslate"><span class="pre">file</span></code> argument.</p>
<p>There are a number of arguments you can give to the function to get the
data file to look as you wish. This includes appending to an existing file,
the type of quotes to use, the separator and whether to use row and column names.</p>
<p>It’s worth finding the R manuals online to see these and experiment a little.</p>
<div class="admonition-practical-exercise admonition">
<p class="admonition-title">Practical exercise</p>
<p>Write your <cite>capitals</cite> dictionary into a file, separated by commas, so country in
column 1 and the city in column 2. Each country is then on a new line.
This creates a CSV file, which you can load into Excel, etc.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id23" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">capitals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;Germany&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;Berlin&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;UK&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;London&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;USA&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;Washington DC&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;France&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;Paris&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;Burkina Faso&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;Ouagadougou&quot;</span>
<span class="p">}</span>
<span class="nf">write.table</span><span class="p">(</span><span class="n">capitals</span><span class="p">,</span><span class="s">&quot;capitals.csv&quot;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="n">col.names</span><span class="o">=</span><span class="bp">F</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The file then contains:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jh1889@thalassa:~/work/teaching/SEPwC$<span class="w"> </span>more<span class="w"> </span>captials.csv
<span class="s2">&quot;Germany&quot;</span>,<span class="s2">&quot;Berlin&quot;</span>
<span class="s2">&quot;UK&quot;</span>,<span class="s2">&quot;London&quot;</span>
<span class="s2">&quot;USA&quot;</span>,<span class="s2">&quot;Washington DC&quot;</span>
<span class="s2">&quot;France&quot;</span>,<span class="s2">&quot;Paris&quot;</span>
<span class="s2">&quot;Burkina Faso&quot;</span>,<span class="s2">&quot;Ouagadougou&quot;</span>
</pre></div>
</div>
<p>Why did I use the <cite>write.table</cite> function? What happens if <cite>write.csv</cite> is used?</p>
</div>
</section>
</section>
<section id="r-command-line-arguments">
<h2>R command line arguments<a class="headerlink" href="#r-command-line-arguments" title="Link to this heading">#</a></h2>
<p id="index-5">The simplest user-facing scripts/software use the Command Line Interface (CLI) to interact with a user.
The CLI allows the user to pass options to a script as they execute. We have already used these elsewhere
in the course, for example:</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id24" title="Link to this code">#</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-l
</pre></div>
</div>
</div>
<p>which is the command to list things, <code class="docutils literal notranslate"><span class="pre">ls</span></code>, in a Unix shell with the option supplied to make it a table <code class="docutils literal notranslate"><span class="pre">-l</span></code>.
Similarly, we’ve covered:</p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id25" title="Link to this code">#</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>-r<span class="w"> </span>dir1<span class="w"> </span>dir2
</pre></div>
</div>
</div>
<p>Here, there are three options. The <code class="docutils literal notranslate"><span class="pre">-r</span></code> flag, the directory to copy <code class="docutils literal notranslate"><span class="pre">dir1</span></code>, and where to copy it to, <code class="docutils literal notranslate"><span class="pre">dir2</span></code>.</p>
<p>R has both in-built handling of command line options, but also a number of modules to give us quite
advanced usage options.</p>
<section id="r-and-the-command-line">
<h3>R and the command line<a class="headerlink" href="#r-and-the-command-line" title="Link to this heading">#</a></h3>
<p>When you run a R script via the Rscript command, with some arbitrary text after:</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id26" title="Link to this code">#</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Rscript<span class="w"> </span>arg_script.R<span class="w"> </span>arg1<span class="w"> </span>arg2<span class="w"> </span>arg3
</pre></div>
</div>
</div>
<p>that text is passed to the <cite>script for you to access. Let’s create this simple script, named ``arg_script.R`</cite></p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id27" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">commandArgs</span><span class="p">(</span><span class="n">trailingOnly</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;Length: &quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">args</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<p>Now run that on the command line.</p>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id28" title="Link to this code">#</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Rscript<span class="w"> </span>arg_script.R<span class="w"> </span>arg1<span class="w"> </span>arg2<span class="w"> </span>arg3
</pre></div>
</div>
</div>
<p>Your output is:</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id29" title="Link to this code">#</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jh1889@thalassa:~/work/teaching/SEPwC/code_examples$<span class="w"> </span>Rscript<span class="w"> </span>command_args.R<span class="w"> </span>arg1<span class="w"> </span>arg2<span class="w"> </span>arg3
<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="s2">&quot;arg1&quot;</span><span class="w"> </span><span class="s2">&quot;arg2&quot;</span><span class="w"> </span><span class="s2">&quot;arg3&quot;</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="s2">&quot;Length: 3&quot;</span>
</pre></div>
</div>
</div>
<p>The arguments are stored in <code class="docutils literal notranslate"><span class="pre">args</span></code>. The first is always the name of the script, however, we
automatically removed that by using the <cite>trainlingOnly=True</cite> argument. Try it without:</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id30" title="Link to this code">#</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jh1889@thalassa:~/work/teaching/SEPwC/code_examples$<span class="w"> </span>Rscript<span class="w"> </span>command_args.R<span class="w"> </span>arg1<span class="w"> </span>arg2<span class="w"> </span>arg3
<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="s2">&quot;/usr/lib/R/bin/exec/R&quot;</span><span class="w"> </span><span class="s2">&quot;--no-echo&quot;</span><span class="w">             </span><span class="s2">&quot;--no-restore&quot;</span>
<span class="o">[</span><span class="m">4</span><span class="o">]</span><span class="w"> </span><span class="s2">&quot;--file=command_args.R&quot;</span><span class="w"> </span><span class="s2">&quot;--args&quot;</span><span class="w">                </span><span class="s2">&quot;arg1&quot;</span>
<span class="o">[</span><span class="m">7</span><span class="o">]</span><span class="w"> </span><span class="s2">&quot;arg2&quot;</span><span class="w">                  </span><span class="s2">&quot;arg3&quot;</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="s2">&quot;Length: 8&quot;</span>
</pre></div>
</div>
</div>
<p>Oh! That’s not quite what we were expecting. You can see what <cite>Rscript</cite> actually does under the hood; it calls
the R command with <cite>–no-echo</cite>, <cite>–no-restore</cite> and the <cite>–file</cite> arguments, with the further <cite>–args</cite> argument. Only
then do we see our actual arguments. So best to leave <cite>trailingOnly=TRUE</cite>.</p>
<p>Within our script we access them as we would any other list:</p>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id31" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">commandArgs</span><span class="p">(</span><span class="n">trailingOnly</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">copy_from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>
<span class="n">copy_to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="p">[</span><span class="m">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Security bugs in code are often due to user input not being <strong>parsed</strong> correctly. If your application
interacts with a database, for example, and the user can input which field to search, it may be possible
to construct input which can then delete the database. You must always check what the user is giving you before
using it, especially when it comes to files, databases, or URLs.</p>
</div>
<div class="admonition-practical-exercise-simple-command-line-arguments admonition">
<p class="admonition-title">Practical exercise - simple command line arguments</p>
<p>Write a simple R script to get all command line arguments given to it
and print them out on individual lines. Do not include the script name or the other
R specific things; just the user arguments.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id32" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">commandArgs</span><span class="p">(</span><span class="n">trailingOnly</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="nf">for </span><span class="p">(</span><span class="n">arg</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">arg</span><span class="p">))</span>
<span class="w">    </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
</section>
<section id="r-advanced-command-line-interface">
<h3>R advanced command line interface<a class="headerlink" href="#r-advanced-command-line-interface" title="Link to this heading">#</a></h3>
<p id="index-6">R has a number of libraries that make command line parsing a lot easier and more functional. The most commonly used is
<code class="docutils literal notranslate"><span class="pre">argparse</span></code></p>
<p>With <code class="docutils literal notranslate"><span class="pre">argparse</span></code> you define the options in your code and then <code class="docutils literal notranslate"><span class="pre">argparse</span></code> figures out how to get those from the <code class="docutils literal notranslate"><span class="pre">commandArgs</span></code>
function. Moreover, the library will help with error messages, etc when the user gives incorrect arguments.</p>
<p>The core functionality of <code class="docutils literal notranslate"><span class="pre">argparse</span></code> is the <code class="docutils literal notranslate"><span class="pre">ArgumentParser</span></code></p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id33" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="s">&quot;argparse&quot;</span><span class="p">)</span>

<span class="n">parser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ArgumentParser</span><span class="p">(</span>
<span class="w">           </span><span class="n">prog</span><span class="o">=</span><span class="s">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">           </span><span class="n">description</span><span class="o">=</span><span class="s">&quot;Brief one line of what the program does&quot;</span><span class="p">,</span>
<span class="w">           </span><span class="n">epilog</span><span class="o">=</span><span class="s">&quot;Any text at the bottom of help, e.g. copyright&quot;</span>
<span class="w">           </span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Once an OptionParser is set-up you can then add optional and positional arguments to that.</p>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id34" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="o">$</span><span class="nf">add_option</span><span class="p">(</span><span class="s">&quot;filename&quot;</span>
<span class="w">                  </span><span class="n">help</span><span class="o">=</span><span class="s">&quot;the file to read the data from&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># a positional argument</span>
<span class="n">parser</span><span class="o">$</span><span class="nf">add_option</span><span class="p">(</span><span class="s">&#39;-c&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;--count&#39;</span>
<span class="w">                  </span><span class="n">help</span><span class="o">=</span><span class="s">&quot;How many times to copy&quot;</span><span class="p">)</span><span class="w">         </span><span class="c1"># option that takes a value</span>
<span class="n">parser</span><span class="o">$</span><span class="nf">add_option</span><span class="p">(</span><span class="s">&#39;-v&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;--verbose&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="n">action</span><span class="o">=</span><span class="s">&#39;store_true&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="n">help</span><span class="o">=</span><span class="s">&quot;Print progress&quot;</span><span class="p">)</span><span class="w">                 </span><span class="c1"># on/off flag</span>
</pre></div>
</div>
</div>
<p>You can also specify which variable the argument is parsered into, the type, if an argument is required, if it should be a list
and a lot more too.</p>
<p>You then parse the argument and put them in variables as you see fit</p>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id35" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="o">$</span><span class="nf">parse_args</span><span class="p">()</span>
<span class="n">intput_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="o">$</span><span class="n">filename</span>
<span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="o">$</span><span class="n">count</span>
<span class="n">verbosity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="o">$</span><span class="n">verbose</span>
</pre></div>
</div>
</div>
<div class="admonition-practical-exercise-more-complex-arguments admonition">
<p class="admonition-title">Practical exercise - more complex arguments</p>
<p>Write a simple R script that returns the square of a given number,
e.g. if the users give 2, the program returns 4 to screen.
It must have the following arguments using <cite>argparse</cite>.</p>
<blockquote>
<div><ul class="simple">
<li><p>an optional <code class="docutils literal notranslate"><span class="pre">verbose</span></code> flag, which can take an <cite>int</cite> value of 0, 1 or 2.
This increases the verbosity of the output from just the number (<cite>verbosity==0</cite>)
to a full sentence (<cite>verbosity==2</cite>), with default of 0.</p></li>
<li><p>restrict the input number to an integer only</p></li>
<li><p>add a check for negative numbers as input</p></li>
<li><p>optional output to a file</p></li>
</ul>
</div></blockquote>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id36" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">argparse</span><span class="p">)</span>

<span class="n">parser</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="nf">ArgumentParser</span><span class="p">(</span>
<span class="w">  </span><span class="n">prog</span><span class="o">=</span><span class="s">&quot;Square Machine&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="o">=</span><span class="s">&quot;Will square your number&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="n">epilog</span><span class="o">=</span><span class="s">&quot;Copyright Jon Hill, 2024&quot;</span>
<span class="p">)</span>

<span class="n">parser</span><span class="o">$</span><span class="nf">add_argument</span><span class="p">(</span><span class="s">&quot;square&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s">&quot;integer&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="n">help</span><span class="o">=</span><span class="s">&quot;the number to be squared&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">$</span><span class="nf">add_argument</span><span class="p">(</span><span class="s">&quot;verbosity&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s">&quot;integer&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span>
<span class="w">                  </span><span class="n">help</span><span class="o">=</span><span class="s">&quot;increases the verbosity of the output&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="o">=</span><span class="m">0</span><span class="p">)</span>
<span class="n">parser</span><span class="o">$</span><span class="nf">add_argument</span><span class="p">(</span><span class="s">&quot;--output_file&quot;</span><span class="p">)</span>

<span class="n">args</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">parser</span><span class="o">$</span><span class="nf">parse_args</span><span class="p">()</span>
<span class="n">square</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">args</span><span class="o">$</span><span class="n">square</span>
<span class="n">output_file</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">args</span><span class="o">$</span><span class="n">output_file</span>

<span class="nf">if </span><span class="p">(</span><span class="n">square</span><span class="o">==</span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;please provide positive integer&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">answer</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">square</span><span class="o">**</span><span class="m">2</span>
<span class="nf">if </span><span class="p">(</span><span class="n">args</span><span class="o">$</span><span class="n">verbosity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;The square of&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">square</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;equals&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">answer</span><span class="p">))</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if</span><span class="p">(</span><span class="n">args</span><span class="o">$</span><span class="n">verbosity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="n">square</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;^2 =&quot;</span><span class="p">,</span><span class="w">  </span><span class="n">answer</span><span class="p">))</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nf">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">#if (output_file != NA) {</span>
<span class="c1">#    with open(output_file, &quot;w&quot;) as f:</span>
<span class="c1">#        f.write(f&quot;The square of {square} equals {answer}\n&quot;)</span>
<span class="c1">#}</span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
</section>
<section id="getting-input-from-a-user-in-r">
<h3>Getting input from a user in R<a class="headerlink" href="#getting-input-from-a-user-in-r" title="Link to this heading">#</a></h3>
<p>If you want to ask the user something, e.g. a file name
or if they wish to continue, you can use the <code class="docutils literal notranslate"><span class="pre">readLines</span></code> function.
However, this is a bit hacky; it wasn’t really designed for this, so
it works well enough, but for running within an <code class="docutils literal notranslate"><span class="pre">Rscript</span></code> <em>and</em> in the console
it needs some work. We point it at a “stdin” file (i.e. the keyboard) and
ask for a single line.</p>
<p>If you search online for how to read user input from keyboard in R you will find
reference to the <code class="docutils literal notranslate"><span class="pre">scan</span></code>, <code class="docutils literal notranslate"><span class="pre">readline</span></code> and <code class="docutils literal notranslate"><span class="pre">readlines</span></code> functions. They all work
well in an interactive environment, but not when running as a batch script via <code class="docutils literal notranslate"><span class="pre">Rscript</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/cli.png"><img alt="cli" src="_images/cli.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id37" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">answer</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">readLines</span><span class="p">(</span><span class="nf">file</span><span class="p">(</span><span class="s">&quot;stdin&quot;</span><span class="p">),</span><span class="m">1</span><span class="p">)</span>
<span class="nf">if </span><span class="p">(</span><span class="n">answer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;Y&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1"># do something</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">answer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;N&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1"># do something else</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="s">&quot;I didn&#39;t understand &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">answer</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Note that the input is returned as a string, so you may need to convert
to a floating point number or integer, etc. As with command line
arguments, be careful with any user input and check it carefully
before using it.</p>
</section>
</section>
<section id="r-exercises-2">
<h2>R Exercises 2<a class="headerlink" href="#r-exercises-2" title="Link to this heading">#</a></h2>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Write the number guessing game out in R. You may need
to search the internet for how to handle random numbers.</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>This is my code</p>
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id38" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Welcome to the number guessing game!&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">&quot;I have thought of a number between 1 and 100&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">&quot;Can you guess what it is?&quot;</span><span class="p">)</span>

<span class="n">number</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="n">guess</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span>
<span class="c1"># we create a guess that cannot be the answer...</span>

<span class="nf">while </span><span class="p">(</span><span class="n">guess</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Type your guess&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">guess</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">readLines</span><span class="p">(</span><span class="nf">file</span><span class="p">(</span><span class="s">&quot;stdin&quot;</span><span class="p">),</span><span class="m">1</span><span class="p">))</span>
<span class="w">    </span><span class="nf">if </span><span class="p">(</span><span class="n">guess</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Your guess is less than my number&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Try again&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">guess</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Your guess is greater than my number&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Try again&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">guess</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Correct! You guessed right!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Bye!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">stop</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Modify the guessing game code to include a maximum
number of tries (5). If the number of tries is 5 then
print a message to say the user lost the game</p>
</div>
<div class="toggle admonition">
<p class="admonition-title">Solution</p>
<p>This is my code</p>
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="_images/R_logo.png"><img alt="R" src="_images/R_logo.png" style="height: 16px;" /></a></span><a class="headerlink" href="#id39" title="Link to this code">#</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Welcome to the number guessing game!&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">&quot;I have thought of a number between 1 and 100&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">&quot;You have 5 tries to guess&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">&quot;Can you guess what it is?&quot;</span><span class="p">)</span>

<span class="n">number</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="n">guess</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span>
<span class="n">tries</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span>
<span class="n">max_tries</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">5</span>
<span class="c1"># we create a guess that cannot be the answer...</span>

<span class="nf">while </span><span class="p">(</span><span class="n">tries</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">max_tries</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">tries</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">tries</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Type your guess&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">guess</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">readLines</span><span class="p">(</span><span class="nf">file</span><span class="p">(</span><span class="s">&quot;stdin&quot;</span><span class="p">),</span><span class="m">1</span><span class="p">))</span>
<span class="w">    </span><span class="nf">if </span><span class="p">(</span><span class="n">guess</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Your guess is less than my number&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Try again&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">guess</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Your guess is greater than my number&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Try again&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="n">guess</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Correct! You guessed right!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Bye!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">stop</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="nf">print</span><span class="p">(</span><span class="s">&quot;Sorry, you had 5 goes. I win!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Python2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Python: part 2</p>
      </div>
    </a>
    <a class="right-next"
       href="Python3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Python: part 3</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-functions">R functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-r-function">Using a R function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-your-own-r-functions">Writing your own R functions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#function-arguments-in-r">Function arguments in R</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-libraries">R libraries</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-libraries">Loading libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sourcing-other-code">Sourcing other code</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-dictionaries">R dictionaries</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#looping-with-dictionaries">Looping with dictionaries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-tricks-with-r-dictionaries">Some useful tricks with R dictionaries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-files">R: files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-and-write-tables-csv-files">Read and write tables/csv files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-command-line-arguments">R command line arguments</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-and-the-command-line">R and the command line</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-advanced-command-line-interface">R advanced command line interface</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-input-from-a-user-in-r">Getting input from a user in R</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-exercises-2">R Exercises 2</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jon Hill
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, Jon Hill.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>